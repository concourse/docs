<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=775" />
<title>Resource Versions - Concourse CI</title>
<link rel="stylesheet" type="text/css" href="css/normalize.css" />
<link rel="stylesheet" type="text/css" href="css/pipeline.css" />
<link rel="stylesheet" type="text/css" href="css/iosevka.css" />
<link rel="stylesheet" type="text/css" href="css/booklit.css" />
<link rel="stylesheet" type="text/css" href="css/prism.css" />
<link rel="shortcut icon" type="image/x-icon" href="favicon.ico" />
<link href="https://fonts.googleapis.com/css?family=Barlow:400,400i,700|Roboto+Slab:300,400,700" rel="stylesheet" />
<script src="js/search.js"></script>
<script async type="text/javascript" src="js/prism.js"></script>
<script data-goatcounter="https://concourse.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script>
  </head>
  <body>
    

<div class="page-top">
  <nav class="top-nav">
    <a class="top-link logo-link" href="/"><img src="images/logo-white.svg" />Concourse</a>
    
    <a class="top-link active" href="docs.html">Docs</a>
    
    <a class="top-link" href="examples.html">Examples</a>
    
    <a class="top-link" href="project.html">Project</a>
    
    <a class="top-link" href="ecosystem.html">Ecosystem</a>
    
    <a class="top-link" href="https://resource-types.concourse-ci.org">Resource Types</a>
    <a class="top-link" href="https://blog.concourse-ci.org">blog</a>
    <a class="top-link" href="https://github.com/concourse/concourse/discussions">discuss</a>

    <div id="search"></div>

    <script type="text/javascript">
      var app = Elm.Main.init({
        node: document.getElementById('search')
      });

      app.ports.emitSearchTerm.subscribe(function(term) {
        goatcounter.count({
          path: "search:" + term,
          title: "user searched: " + term,
          event: true
        });
      });
    </script>
  </nav>
</div>

    <div class="page-body">
      <div class="page-nav">
        






  
  
  
  
  

  
  <div class="context">
    <nav>
      <div class="top">
        <span class="section-number">1</span><a href="docs.html"  class="active">Docs</a>
      </div>

      <div class="children">
        <table>
        
          <tr>
            <td class="number-cell">1.1</td>
            <td class="title-cell"><a href="getting-started.html" >Getting Started</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.2</td>
            <td class="title-cell"><a href="install.html" >Install</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.3</td>
            <td class="title-cell"><a href="auth.html" >Auth &amp; Teams</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.4</td>
            <td class="title-cell"><a href="fly.html" >The <code>fly</code> CLI</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.5</td>
            <td class="title-cell"><a href="config-basics.html" >Config Basics</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.6</td>
            <td class="title-cell"><a href="pipelines.html" >Pipelines</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.7</td>
            <td class="title-cell"><a href="vars.html" >Vars</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.8</td>
            <td class="title-cell"><a href="resources.html"  class="active">Resources</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.9</td>
            <td class="title-cell"><a href="resource-types.html" >Resource Types</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.10</td>
            <td class="title-cell"><a href="jobs.html" >Jobs</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.11</td>
            <td class="title-cell"><a href="steps.html" >Steps</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.12</td>
            <td class="title-cell"><a href="tasks.html" >Tasks</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.13</td>
            <td class="title-cell"><a href="builds.html" >Builds</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.14</td>
            <td class="title-cell"><a href="how-to-guides.html" >How-To Guides</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.15</td>
            <td class="title-cell"><a href="operation.html" >Operation</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.16</td>
            <td class="title-cell"><a href="observation.html" >Observation</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.17</td>
            <td class="title-cell"><a href="internals.html" >Internals</a></td>
          </tr>
        
        </table>
      </div>
    </nav>
  </div>
  

  

  
  <div class="context">
    <nav>
      <div class="top">
        <span class="section-number">1.8</span><a href="resources.html"  class="active">Resources</a>
      </div>

      <div class="children">
        <table>
        
          <tr>
            <td class="number-cell">1.8.1</td>
            <td class="title-cell"><a href="resource-versions.html"  class="self">Resource Versions</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.8.2</td>
            <td class="title-cell"><a href="managing-resources.html" >Managing Resources</a></td>
          </tr>
        
        </table>
      </div>
    </nav>
  </div>
  

  

  
  <div class="context">
    <nav>
      <div class="top">
        <span class="section-number">1.8.1</span><a href="resource-versions.html"  class="self">Resource Versions</a>
      </div>

      <div class="children">
        <table>
        
          <tr>
            <td class="number-cell">1.8.1.1</td>
            <td class="title-cell"><a href="resource-versions.html#where-and-what-versions" >Where do they come from and what are they used for?</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.8.1.2</td>
            <td class="title-cell"><a href="resource-versions.html#version-pinning" >Version Pinning</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.8.1.3</td>
            <td class="title-cell"><a href="resource-versions.html#disable-version" >Disabling a Version</a></td>
          </tr>
        
        </table>
      </div>
    </nav>
  </div>
  



      </div>

      <div class="body-content">
        <div class="page-content">
          <div class="section" id="section_resource-versions">
  
  <h1 class="section-header"><a class="anchor-target" name="resource-versions" href="#resource-versions"></a><span class="section-number">1.8.1 </span>Resource Versions</h1>
  

  <p>As you may know, resources represent external state that changes over time. But how do we track those changes in a generic way that will properly represent all the different resource types? That is where resource versions are introduced. Concourse uses versions to represent the exact changes of a resource over time.</p><p>The versions of a resource are directly dependent on its resource configuration and <a href="resource-types.html">resource type</a>. Each resource type has its own definition of what its versions should be. For example, the versions of a git resource would be the commits of the github repository and the versions of a docker image resource are the image digests.</p><p>If you want to figure out what determines the version of a resource type, it is typically outlined in the `check` behavior for the resource type. For example, the git resource uses commits as versions <a href="https://github.com/concourse/git-resource#check-check-for-new-commits">git resource type check behavior</a>.</p>

  
    
      <div class="section" id="section_where-and-what-versions">
  
  <h2 class="section-header"><a class="anchor-target" name="where-and-what-versions" href="#where-and-what-versions"></a>Where do they come from and what are they used for?</h2>
  

  <p>The <a href="checker.html">resource checker</a> is responsible for checking for new versions of a resource. These versions are then saved to the database and can be viewed from the resource page in the web UI.</p><p>Resource versions are used by the <a href="scheduler.html">build scheduler</a> in order to schedule new builds for a job.</p>

  
    
  
</div>
    
      <div class="section" id="section_version-pinning">
  
  <h2 class="section-header"><a class="anchor-target" name="version-pinning" href="#version-pinning"></a>Version Pinning</h2>
  

  <p>A common job workflow is to use the latest version of a resource in order to trigger new builds. This works most of the time until you run into a situation where you need to run the job using an old version of a resource. Concourse provides a solution to this, which is called resource pinning.</p><p>There are two different ways to pin a resource: through the pipeline config and through the web UI. Within the pipeline config, you can either pin the resource to a version through the <a href="resources.html#schema.resource.version">resource configuration</a> or through a <a href="get-step.html#schema.get.version">get step version configuration</a>. If you would like to pin through the web UI, the functionality can be found in the resource version history page which is accessed through clicking into the resource within the pipeline page.</p><p>Pinning through the pipeline config is useful for a more permanent pinned state. If a resource is pinned through the pipeline config, it cannot be modified through the web UI and can only be changed through modifiying and resetting the pipeline config.</p><p>Pinning through the web UI is useful for reactionary pinning of a resource. For example, it can be used in the event of a broken upstream dependency.</p><p>If you had a version pinned in the web UI and then pinned it through the pipeline config, the pipeline config pinned version will take precendence.</p><p>A pinned version is associated to a resource and can be viewed in the resource page (excluding the case that the version was pinned on a get step). This pinned version will be propagated throughout the pipeline and used by the jobs that take that pinned resource as an input. If there is a job that has a passed constraint on a pinned resource, this means that the input is only valid if that pinned version has been used by the passed constraint job.</p><p>Let&#39;s say we have a pipeline with two jobs and one resource that is being used as a passed constraint between the two jobs. If that resource is pinned to a version, the first job will produce a build using the pinned version of the resource. After that build succeeds, the second job that has a passed constraint on the first will then be able to trigger off a build because the pinned version has been successfully used by the first job.</p>

  
    
      <div class="section" id="section_version-unpinning">
  
  <h3 class="section-header"><a class="anchor-target" name="version-unpinning" href="#version-unpinning"></a>Unpinning</h3>
  

  <p>When a version is unpinned, Concourse will go back to using the latest available version. This means a new build will be queued up if the most recent build used the old pinned version and the input has <code>trigger: true</code>.</p><p>If you would like to learn more about how version pinning and unpinning works with the build scheduler, you can read more about it in the <a href="scheduler.html#scheduling-behavior">scheduling behavior section</a>.</p>

  
    
  
</div>
    
  
</div>
    
      <div class="section" id="section_disable-version">
  
  <h2 class="section-header"><a class="anchor-target" name="disable-version" href="#disable-version"></a>Disabling a Version</h2>
  

  <p>A resource version can also be disabled through the web UI on the resource version history page. These disabled versions will not be used to schedule any further builds for any jobs that use the resource as an input.</p><p>Disabled versions can also be re-enabled through the resource version history page.</p><p>Disabling a version is useful for cases where you know that the version is broken or incompatible.</p>

  
    
  
</div>
    
  
</div>

          <nav class="prev-next">
          
            <div class="prev">
              prev:

              
              <span class="section-number">1.8</span>
              

              <a href="resources.html">Resources</a>
            </div>
          

          
            <div class="next">
              next:

              
              <span class="section-number">1.8.2</span>
              

              <a href="managing-resources.html">Managing Resources</a>
            </div>
          
          </nav>
        </div>

        <div class="page-aside"></div>
      </div>
    </div>

    <ul class="improve-docs">
      <li><img src="images/icons/github-box.svg" /> <a href="https://github.com/concourse/docs">help improve this site</a></li>
      <li><img src="images/booklit.svg" /> powered by <a href="https://vito.github.io/booklit">Booklit</a></li>
    </ul>
  </body>
</html>