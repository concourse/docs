<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=775" />
<title>Resources - Concourse CI</title>
<link rel="stylesheet" type="text/css" href="css/normalize.css" />
<link rel="stylesheet" type="text/css" href="css/pipeline.css" />
<link rel="stylesheet" type="text/css" href="css/iosevka.css" />
<link rel="stylesheet" type="text/css" href="css/booklit.css" />
<link rel="stylesheet" type="text/css" href="css/prism.css" />
<link rel="shortcut icon" type="image/x-icon" href="favicon.ico" />
<link href="https://fonts.googleapis.com/css?family=Barlow:400,400i,700|Roboto+Slab:300,400,700" rel="stylesheet" />
<script src="js/search.js"></script>
<script async type="text/javascript" src="js/prism.js"></script>
<script data-goatcounter="https://concourse.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script>
  </head>
  <body>
    

<div class="page-top">
  <nav class="top-nav">
    <a class="top-link logo-link" href="/"><img src="images/logo-white.svg" />Concourse</a>
    
    <a class="top-link active" href="docs.html">Docs</a>
    
    <a class="top-link" href="examples.html">Examples</a>
    
    <a class="top-link" href="project.html">Project</a>
    
    <a class="top-link" href="ecosystem.html">Ecosystem</a>
    
    <a class="top-link" href="support.html">Support</a>
    
    <a class="top-link" href="https://resource-types.concourse-ci.org">Resource Types</a>
    <a class="top-link" href="https://blog.concourse-ci.org">blog</a>

    <div id="search"></div>

    <script type="text/javascript">
      var app = Elm.Search.init({
        node: document.getElementById('search')
      });

      app.ports.emitSearchTerm.subscribe(function(term) {
        goatcounter.count({
          path: "search:" + term,
          title: "user searched: " + term,
          event: true
        });
      });
    </script>
  </nav>
</div>

    <div class="page-body">
      <div class="page-nav">
        






  
  
  
  
  

  
  <div class="context">
    <nav>
      <div class="top">
        <span class="section-number">1</span><a href="docs.html"  class="active">Docs</a>
      </div>

      <div class="children">
        <table>
        
          <tr>
            <td class="number-cell">1.1</td>
            <td class="title-cell"><a href="getting-started.html"  class="active">Getting Started</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.2</td>
            <td class="title-cell"><a href="install.html" >Install</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.3</td>
            <td class="title-cell"><a href="auth.html" >Auth &amp; Teams</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.4</td>
            <td class="title-cell"><a href="fly.html" >The <code>fly</code> CLI</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.5</td>
            <td class="title-cell"><a href="config-basics.html" >Config Basics</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.6</td>
            <td class="title-cell"><a href="pipelines.html" >Pipelines</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.7</td>
            <td class="title-cell"><a href="vars.html" >Vars</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.8</td>
            <td class="title-cell"><a href="resources.html" >Resources</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.9</td>
            <td class="title-cell"><a href="resource-types.html" >Resource Types</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.10</td>
            <td class="title-cell"><a href="jobs.html" >Jobs</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.11</td>
            <td class="title-cell"><a href="steps.html" >Steps</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.12</td>
            <td class="title-cell"><a href="tasks.html" >Tasks</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.13</td>
            <td class="title-cell"><a href="builds.html" >Builds</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.14</td>
            <td class="title-cell"><a href="how-to-guides.html" >How-To Guides</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.15</td>
            <td class="title-cell"><a href="operation.html" >Operation</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.16</td>
            <td class="title-cell"><a href="observation.html" >Observation</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.17</td>
            <td class="title-cell"><a href="internals.html" >Internals</a></td>
          </tr>
        
        </table>
      </div>
    </nav>
  </div>
  

  

  
  <div class="context">
    <nav>
      <div class="top">
        <span class="section-number">1.1</span><a href="getting-started.html"  class="active">Getting Started</a>
      </div>

      <div class="children">
        <table>
        
          <tr>
            <td class="number-cell">1.1.1</td>
            <td class="title-cell"><a href="quick-start.html" >Quick Start</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.1.2</td>
            <td class="title-cell"><a href="tutorial-hello-world.html" >Hello World Pipeline</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.1.3</td>
            <td class="title-cell"><a href="tutorial-inputs-outputs.html" >Inputs and Outputs</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.1.4</td>
            <td class="title-cell"><a href="tutorial-resources.html"  class="self">Resources</a></td>
          </tr>
        
        </table>
      </div>
    </nav>
  </div>
  

  

  
  <div class="context">
    <nav>
      <div class="top">
        <span class="section-number">1.1.4</span><a href="tutorial-resources.html"  class="self">Resources</a>
      </div>

      <div class="children">
        <table>
        
          <tr>
            <td class="number-cell">1.1.4.1</td>
            <td class="title-cell"><a href="tutorial-resources.html#the-heart-of-concourse" >The Heart of Concourse</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.1.4.2</td>
            <td class="title-cell"><a href="tutorial-resources.html#versions" >Versions</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.1.4.3</td>
            <td class="title-cell"><a href="tutorial-resources.html#resource-interface" >Resource Interface</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.1.4.4</td>
            <td class="title-cell"><a href="tutorial-resources.html#automatically-triggering-jobs-with-get-steps" >Automatically Triggering Jobs With Get Steps</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.1.4.5</td>
            <td class="title-cell"><a href="tutorial-resources.html#publishing-with-put-steps" >Publishing with Put Steps</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.1.4.6</td>
            <td class="title-cell"><a href="tutorial-resources.html#using-external-resource-types" >Using External Resource Types</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.1.4.7</td>
            <td class="title-cell"><a href="tutorial-resources.html#time-to-takeoff" >Time For Takeoff ✈️</a></td>
          </tr>
        
        </table>
      </div>
    </nav>
  </div>
  



      </div>

      <div class="body-content">
        <div class="page-content">
          <div class="section" id="section_tutorial-resources">
  
  <h1 class="section-header"><a class="anchor-target" name="tutorial-resources" href="#tutorial-resources"></a><span class="section-number">1.1.4 </span>Resources</h1>
  

  

  
    
      <div class="section" id="section_the-heart-of-concourse">
  
  <h2 class="section-header"><a class="anchor-target" name="the-heart-of-concourse" href="#the-heart-of-concourse"></a>The Heart of Concourse</h2>
  

  <p>Resources are the heart of Concourse. Resources make Concourse tick and are the source of automation within all Concourse pipelines. Resources are how Concourse interacts with the outside world. Here&#39;s a short list of things that resources can do:</p><ul>

  <li><p>Run a job every five minutes: <a href="https://github.com/concourse/time-resource/">Time resource</a>.</p></li>

  <li><p>Run tests on new commits to the main branch: <a href="https://github.com/concourse/git-resource">Git resource</a>.</p></li>

  <li><p>Publish a new release of your app on Github: <a href="https://github.com/concourse/github-release-resource/">Github Release resource</a>.</p></li>

  <li><p>Pull or push the latest image of your app: <a href="https://github.com/concourse/registry-image-resource/">Registry-image resource</a></p></li>

</ul><p>Resources can do a lot of things! The main goal of resources is to represent some external system or object in your pipeline. That external thing can then be used as a trigger for your <a href="jobs.html">Jobs</a> or your <a href="jobs.html">Jobs</a> can push back and modify the external system or object. It all depends on the resource you use and what features its author has implemented.</p><p>Resources are also how Concourse tries to stay as technology agnostic as possible. For example: Concourse doesn&#39;t care what <a href="https://en.wikipedia.org/wiki/Version_control">version control system</a> you store your code in, if you deploy apps with <a href="https://helm.sh/">Helm</a> or <a href="https://www.terraform.io/">Terraform</a>, or what language your apps are built in.  If you can put your latest and hottest tech behind the resource interface then Concourse can understand your workflow.</p><p>The Concourse team bundles a few basic resource types that come with the Linux release that you can <a href="https://github.com/concourse/concourse/releases">download from Github</a>. You&#39;ll notice that the Linux tarball is much larger than the macOS or Windows tarball because of all the bundled resources.</p><blockquote class="aside"><p>You can find out which resources a worker has by running: <pre><code class="language-">$ fly -t tutorial workers --details</code></pre></p></blockquote><p>Resources only run on Linux workers because resources are distributed as Linux container images. There are currently no resources for macOS or Windows. Only <a href="task-step.html">task steps</a> can run on macOS or Windows workers.</p>

  
    
  
</div>
    
      <div class="section" id="section_versions">
  
  <h2 class="section-header"><a class="anchor-target" name="versions" href="#versions"></a>Versions</h2>
  

  <p>Resources represent the external system or object to Concourse by emitting <a href="config-basics.html#schema.version"><code>versions</code></a>. When a new version is emitted by a resource, that is how Concourse knows to start jobs connected to the resource.</p><p>A version is a map of key-value strings that a resource generates to uniquely identify the state of the external system or object.</p><p>For example, the git resource emits versions based on the SHA of new commits it finds. A single version from the git resource will look like this to Concourse.</p><pre><code class="language-json">{ &#34;ref&#34;: &#34;ce63af135a85029153ebd0f5dfe42c5481641b74&#34; }</code></pre><p>Which looks like this in the web UI:</p><div class="diagram">
  <img src="images/tutorial/resource-version-web-ui.png" alt="diagram" width="100%" />
</div><p>Let&#39;s start digging into resources a bit more by going over the resource interface.</p>

  
    
  
</div>
    
      <div class="section" id="section_resource-interface">
  
  <h2 class="section-header"><a class="anchor-target" name="resource-interface" href="#resource-interface"></a>Resource Interface</h2>
  

  <p>Resources are <a href="https://en.wikipedia.org/wiki/Open_Container_Initiative">container images</a> that contain three executables. Each executable is run by a different type of <a href="steps.html">step</a> within a pipeline:</p><ul>

  <li><p><code>/opt/resource/check</code> - implicitly run when a <a href="jobs.html">job</a> contains a <a href="get-step.html">get step</a>. Should return the latest version from the external system or object. Its responsibility is to find new versions. Is never part of a Job&#39;s build plan.</p></li>

  <li><p><code>/opt/resource/in</code> - run in a <a href="get-step.html">get step</a>. <code>in</code> is given a specific version (generated by a <code>check</code> or <a href="put-step.html"><code>put</code> step</a>) and retrieves the files and information representing that version from the external system or object.</p></li>

  <li><p><code>/opt/resource/out</code> - run in a <a href="put-step.html">put step</a>. Generates a new version, usually based on some input generated by another step in the job. Depending on the resource, this may mean sending something to the external system. For the git resource, this means pushing commits to the external git repository.</p></li>

</ul><p>That&#39;s a high-level overview of the resource interface, which should help you understand what&#39;s going on with resources when we start using them in the next section.</p>

  
    
  
</div>
    
      <div class="section" id="section_automatically-triggering-jobs-with-get-steps">
  
  <h2 class="section-header"><a class="anchor-target" name="automatically-triggering-jobs-with-get-steps" href="#automatically-triggering-jobs-with-get-steps"></a>Automatically Triggering Jobs With Get Steps</h2>
  

  <p>We&#39;re going to create a new pipeline now. This pipeline is going to:</p><ul>

  <li><p>Fetch commits from a Git repository that contains an app</p></li>

  <li><p>Run some unit tests for that app</p></li>

  <li><p>Publish our app to GitHub</p></li>

</ul><p>We have a very basic app in our <a href="https://github.com/concourse/examples"><code>github.com/concourse/examples</code></a> repo that we&#39;ll use in your pipeline. You should fork this repository so you can continue following along. We&#39;re going to build the Go app under the <code>apps/golang/</code> directory.</p><p>When creating a new <a href="jobs.html">Job</a> or <a href="pipelines.html">Pipeline</a>, it can be helpful to think of all the external things the job will need in order to run, and declare them as <a href="resources.html">Resources</a> in our pipeline. We know we&#39;ll need our Git repository with our app&#39;s code, so we&#39;ll declare that as a resource first.</p><p>We will use the <a href="https://github.com/concourse/git-resource/">git resource</a> to represent our Git repository. The <code>README.md</code> contains the documentation for how to use the resource.</p><pre><code class="language-yaml">resources:
  - name: repo
    type: git
    source:
      uri: https://github.com/concourse/examples.git
      username: &lt;user&gt;
      password: github_pat_...</code></pre><blockquote class="aside"><p>You&#39;ll need to generate a Personal Access Token for GitHub in order to complete this tutorial. You can make a fine-grained access token on <a href="https://github.com/settings/personal-access-tokens">this page</a>. The only permission required is <code>read-write</code> access to <code>content</code>. You may scope the token to your fork of the <code>examples</code> repository.</p></blockquote><p>We&#39;ve added a top-level key to our pipeline called <a href="resources.html"><code>resources</code></a>, which takes an unordered list of resouces that can be referenced by jobs in our pipeline.</p><p>When delcaring a resource, Concourse only requires you to declare the <a href="resources.html#schema.resource.name"><code>name</code></a> and <a href="resources.html#schema.resource.type"><code>type</code></a>. The <code>name</code> is how jobs will reference the resource.</p><p>Depending on the resource type you&#39;re using, the <code>source</code> will likely have one or more required fields. This is specific to each resource type, so refer to the documentation of the resource type to find out what fields are required.</p><p>Next, we can add a job that references our resource. Let&#39;s add a job to our pipeline that, for now, downloads our git repo. We&#39;ll use the <a href="get-step.html"><code>get</code> step</a> to do this.</p><pre><code class="language-yaml">resources:
  - name: repo
    type: git
    source:
      uri: https://github.com/concourse/examples.git
      username: &lt;user&gt;
      password: github_pat_...

jobs:
  - name: tests
    plan:
      - get: repo</code></pre><p>Let&#39;s set and run this pipeline.</p><pre><code class="language-bash">fly -t tutorial set-pipeline --pipeline go-app --config pipeline.yml
fly -t tutorial unpause-pipeline --pipeline go-app</code></pre><p>To change things up, let&#39;s trigger our <code>tests</code> job from the web UI. From the dashboard you can click on the pipeline header to see the entire pipeline. You&#39;ll see two boxes, the left box representing our <code>repo</code> resource, and the right box representing our <code>tests</code> job.</p><p>Clicking on the <code>tests</code> job will take you to the <a href="builds.html">Builds</a> page of the job. In the top-right corner there will be a plus-sign button you can click to trigger the job. Click that button and wait for the job to start and complete. You can click the <a href="get-step.html"><code>get</code> step</a> to expand it and see the metadata fetched by the <code>git</code> resource.</p><div class="video">
  <video src="images/tutorial/trigger-tests-job-get-repo.mp4" alt="video" width="1280px" height="720px" controls style="width: 100%;height: 100%;">
  Your browser doesn't support showing this video. You can download the video <a href="images/tutorial/trigger-tests-job-get-repo.mp4">here</a>.
  </video>
</div><p>Hooray, we have a job that does a <code>git clone</code> for us! Now let&#39;s have the job run our application&#39;s tests. We&#39;ll add a second step to our job, a <a href="task-step.html"><code>task</code> step</a>, that will run <code>go test</code>.</p><pre><code class="language-yaml">resources:
  - name: repo
    type: git
    source:
      uri: https://github.com/concourse/examples.git
      username: &lt;user&gt;
      password: github_pat_...

jobs:
  - name: tests
    plan:
      - get: repo
      - task: tests
        config:
          platform: linux
          image_resource:
            type: registry-image
            source: # Use the Golang image from Docker Hub
              repository: golang
              tag: latest
          inputs:
            - name: repo
          run:
            path: sh
            args:
              - -c
              - |
                cd repo/apps/golang
                go test -v .
</code></pre><p>There are a few things happening in this <a href="task-step.html"><code>task</code> step</a> we added.</p><p>First, we had to choose a container image to use to run our tests in. To run our Go tests we need an image with the <code>go</code> binary. The <a href="https://hub.docker.com/_/golang">golang image from Docker Hub</a> is an easy solution to reach for here, so we tell Concourse to use that image to run this task. Concourse uses the <a href="https://github.com/concourse/registry-image-resource">registry-image resource</a> to download the Golang image.</p><p>Next, we needed to provide our task with a copy of our git repo. The <code>get: repo</code> step added an artifact named <code>repo</code> that our task can reference as an <a href="tasks.html#schema.task-config.inputs">input</a>. Concourse will then take care of mounting a copy of our repo from the <a href="get-step.html"><code>get</code> step</a> into our task&#39;s container.</p><p>The last part is us writing a small shell script that changes to the directory of our Go tests and finally runs <code>go test -v .</code>. We added <code>-v</code> to get a little more output from the tests.</p><p>Let&#39;s update our pipeline and trigger the job from the web UI again.</p><pre><code class="language-bash">fly -t tutorial set-pipeline --pipeline go-app --config pipeline.yml</code></pre><div class="video">
  <video src="images/tutorial/trigger-tests-job-go-test.mp4" alt="video" width="1280px" height="720px" controls style="width: 100%;height: 100%;">
  Your browser doesn't support showing this video. You can download the video <a href="images/tutorial/trigger-tests-job-go-test.mp4">here</a>.
  </video>
</div><p>Our tests run successfully! Let&#39;s update the job so it will run on every new commit instead of waiting for us to manually start the job. We do this by adding <code>trigger: true</code> to the <code>get</code> step.</p><pre><code class="language-yaml">resources:
  - name: repo
    type: git
    source:
      uri: https://github.com/concourse/examples.git
      username: &lt;user&gt;
      password: github_pat_...

jobs:
  - name: tests
    plan:
      - get: repo
        # Cause job to run on new commits
        trigger: true
      - task: tests
        config:
          platform: linux
          image_resource:
            type: registry-image
            source: # Use the Golang image from Docker Hub
              repository: golang
              tag: latest
          inputs:
            - name: repo
          run:
            path: sh
            args:
              - -c
              - |
                cd repo/apps/golang
                go test -v .
</code></pre><pre><code class="language-bash">fly -t tutorial set-pipeline --pipeline go-app --config pipeline.yml</code></pre><p>This change is also visually represented in the web view of the pipeline. The line connecting the resource to the job changes from a dashed line:</p><div class="diagram">
  <img src="images/tutorial/resources-pipeline-tests.png" alt="diagram" width="100%" />
</div><p>To a solid line:</p><div class="diagram">
  <img src="images/tutorial/resources-pipeline-tests-trigger.png" alt="diagram" width="100%" />
</div><p>Let&#39;s test this out by making a commit. In the <code>examples</code> repo, open <code>apps/golang/main.go</code>. Let&#39;s break the tests by changing the <code>AddSix()</code> function to add seven instead of six.</p><pre><code class="language-go">func AddSix(i float64) float64 {
    return i &#43; 7
}</code></pre><p>Commit the change and then wait for the pipeline to pick it up and run the <code>tests</code> job. You can click on the resource to see when Concourse finds the commit. You can then back out to the overview of the pipeline and see the job start on its own.</p><div class="video">
  <video src="images/tutorial/resource-pipeline-tests-trigger.mp4" alt="video" width="1280px" height="720px" controls style="width: 100%;height: 100%;">
  Your browser doesn't support showing this video. You can download the video <a href="images/tutorial/resource-pipeline-tests-trigger.mp4">here</a>.
  </video>
</div><blockquote class="aside"><p>By default, Concourse runs the <code>check</code> script of a resource every ~1 minute. You can click on the resource to see when it was last checked. You can also press the refresh button to force a check to run.</p></blockquote><p>Let&#39;s fix the tests by undoing our change.</p><pre><code class="language-go">func AddSix(i float64) float64 {
    return i &#43; 6
}</code></pre><p>Again, wait for Concourse to find the new commit and watch the job go back to green.</p><div class="video">
  <video src="images/tutorial/resource-pipeline-fix-tests.mp4" alt="video" width="1280px" height="720px" controls style="width: 100%;height: 100%;">
  Your browser doesn't support showing this video. You can download the video <a href="images/tutorial/resource-pipeline-fix-tests.mp4">here</a>.
  </video>
</div><p>In the next section we&#39;ll add a job to publish our app as a release on GitHub.</p>

  
    
  
</div>
    
      <div class="section" id="section_publishing-with-put-steps">
  
  <h2 class="section-header"><a class="anchor-target" name="publishing-with-put-steps" href="#publishing-with-put-steps"></a>Publishing with Put Steps</h2>
  

  <p>We&#39;re going to add another job now that will publish our little Go app as a <a href="https://docs.github.com/en/repositories/releasing-projects-on-github/about-releases">GitHub release</a> using the <a href="https://github.com/concourse/github-release-resource/">GitHub release resource</a>.</p><p>This job will need two pieces of information in order to create a GitHub release:</p><ul>

  <li><p>The git commit to publish as the release</p></li>

  <li><p>What we want the tag to be (e.g. v0.0.1)</p></li>

</ul><p>The git commit is already represented by the <code>repo</code> resource defined in our pipeline. We need to add another resource to represent the tag we want to publish.</p><p>There are many different ways one could represent the tag value, but since we&#39;ve already got a git repository setup, we&#39;ll continue to leverage that.</p><p>Let&#39;s create a new branch in our <code>examples</code> repository called <code>version</code>. We&#39;ll create a file in there that will contain the name of the next tag we want to publish our app under. You can run the following commands to do this:</p><pre><code class="language-bash"># Make a new, empty branch called &#34;version&#34;
git switch --orphan version
# You can make the initial version whatever you want
echo &#34;v0.0.1&#34; &gt; next-version
git add next-version
git commit -m &#34;initial version&#34;
git push -u origin version</code></pre><p>Now we can add this as a resource in our pipeline, so our <code>resources</code> look like this:</p><pre><code class="language-yaml">resources:
  - name: repo
    type: git
    source:
      uri: https://github.com/concourse/examples.git
      username: &lt;user&gt;
      password: github_pat_...

  - name: version
    type: git
    source:
      uri: https://github.com/concourse/examples.git
      username: &lt;user&gt;
      password: github_pat_...
      branch: version</code></pre><p>Publishing to GitHub is also going to need another resource because it represents something external to Concourse. Let&#39;s add a third resource that will represent our release on GitHub.</p><pre><code class="language-yaml">resources:
  - name: repo
    type: git
    source:
      uri: https://github.com/concourse/examples.git
      username: &lt;user&gt;
      password: github_pat_...

  - name: version
    type: git
    source:
      uri: https://github.com/concourse/examples.git
      username: &lt;user&gt;
      password: github_pat_...
      branch: version

  - name: release
    type: github-release
    source:
      owner: concourse
      repository: examples
      access_token: github_pat_...</code></pre><p>Now we can tie these resources together in a job. We&#39;ll create a job called <code>publish</code> that will:</p><ul>

  <li><p>Get the last commit that passed the <code>tests</code> job.</p></li>

  <li><p>Get the <code>next-version</code> file from our <code>version</code> branch.</p></li>

  <li><p>Compile our Go app into a binary to publish alongside our release. We&#39;ll write a <a href="task-step.html"><code>task</code> step</a> to do this.</p></li>

  <li><p>Publish a new GitHub release, uploading the binary, and tagging the commit that last passed <code>tests</code>.</p></li>

</ul><p>Add this job under the <code>jobs</code> key in your pipeline:</p><pre><code class="language-yaml">- name: publish
  plan:
    - get: repo
      passed: [tests] # Only use commits that passed the &#39;tests&#39; job
    - get: version
    - task: build-binary
      config:
        platform: linux
        image_resource:
          type: registry-image
          source:
            repository: golang
            tag: latest
        inputs:
          - name: repo
        outputs: # Declare an output so the put step can upload our binary
          - name: final-build
        run:
          path: sh
          args:
            - -c
            - |
              output=&#34;$(pwd)/final-build&#34;
              cd repo/apps/golang
              go build -o &#34;${output}/addsix&#34; .
    - put: release
      params:
        # Comes from the &#39;get: version&#39; step
        name: version/next-version
        tag: version/next-version
        # Comes from the &#39;get: repo&#39; step
        commitish: repo/.git/ref #refer to the git-resource README
        # Comes from the output of our &#39;task: build-binary&#39; step
        globs: final-build/addsix</code></pre><p>Here&#39;s the entire pipeline put together:</p><pre><code class="language-yaml">resources:
  - name: repo
    type: git
    source:
      uri: https://github.com/concourse/examples.git
      username: &lt;user&gt;
      password: github_pat_...

  - name: version
    type: git
    source:
      uri: https://github.com/concourse/examples.git
      username: &lt;user&gt;
      password: github_pat_...
      branch: version

  - name: release
    type: github-release
    source:
      owner: concourse
      repository: examples
      access_token: github_pat_...

jobs:
  - name: tests
    plan:
      - get: repo
        trigger: true
      - task: tests
        config:
          platform: linux
          image_resource: &amp;image #YAML anchor, kind of like a variable
            type: registry-image
            source:
              repository: golang
              tag: latest
          inputs:
            - name: repo
          run:
            path: sh
            args:
              - -c
              - |
                cd repo/apps/golang
                go test -v .

  - name: publish
    plan:
      - get: repo
        passed: [tests]
      - get: version
      - task: build-binary
        config:
          platform: linux
          image_resource: *image
          inputs:
            - name: repo
          outputs:
            - name: final-build
          run:
            path: sh
            args:
              - -cx
              - |
                output=&#34;$(pwd)/final-build&#34;
                cd repo/apps/golang
                go build -o &#34;${output}/addsix&#34; .
      - put: release
        params:
          name: version/next-version
          tag: version/next-version
          commitish: repo/.git/ref
          globs: [final-build/addsix]
</code></pre><p>Let&#39;s update our pipeline:</p><pre><code class="language-">fly -t tutorial set-pipeline --pipeline go-app --config pipeline.yml</code></pre><p>The pipeline should look like this in the web UI:</p><div class="diagram">
  <img src="images/tutorial/resource-publish-job.png" alt="diagram" width="100%" />
</div><p>Go ahead and manually trigger the <code>publish</code> job. It should complete successfully and the logs should look similar to this:</p><div class="diagram">
  <img src="images/tutorial/resource-publish-logs.png" alt="diagram" width="100%" />
</div><blockquote class="aside"><p>You&#39;ll notice that an extra <a href="get-step.html"><code>get</code> step</a> snuck in there after the <a href="put-step.html"><code>put</code> step</a> at the end. Concourse does this automatically after every <code>put</code> step because a <code>put</code> step has no outputs. So if you ran a <code>put</code> step in the middle of your job and wanted to use whatever you just published/uploaded in a later step, you wouldn&#39;t have access to it. Concourse resolves this by automatically adding and running a <code>get</code> step.</p><p>This extra <code>get</code> is not always necessary of course. If you want to have Concourse skip adding this <code>get</code> step, you can set <a href="put-step.html#schema.put.no_get"><code>no_get</code></a> to <code>true</code> in the <code>put</code> step. This will save a few seconds off of your builds.</p></blockquote><p>On GitHub you should see your release published, along with the binary <code>addsix</code> attached to the release:</p><div class="diagram">
  <img src="images/tutorial/github-release.png" alt="diagram" width="100%" />
</div><p>That&#39;s the whole pipeline! Congratulations on testing, building, and publishing a silly little Go app with a Concourse pipeline 🎉</p><div class="diagram">
  <img src="images/tutorial/resource-pipeline-done.png" alt="diagram" width="100%" />
</div>

  
    
  
</div>
    
      <div class="section" id="section_using-external-resource-types">
  
  <h2 class="section-header"><a class="anchor-target" name="using-external-resource-types" href="#using-external-resource-types"></a>Using External Resource Types</h2>
  

  <p>Concourse comes bundled with a lot of resources that are enough for most people to start using Concourse with. However, users will want to extend Concourse to work with all sorts of systems and that means bringing your own <a href="resource-types.html">Resource Types</a>.</p><p>Adding a <a href="resource-types.html">resource type</a> to your pipeline looks very similar to adding a resource. You can even override the bundled resource types by re-declaring them in your pipeline.</p><p>Remember, a resource is a container image. So to pull in a new resource type you need to tell Concourse <em>where</em> to pull the image from. This is done by using the built-in <a href="https://github.com/concourse/registry-image-resource/">registry-image resource</a>. The process of adding a resource type is just like adding a regular resource, just under the top-level <a href="resource-types.html"><code>resource_types</code></a> key instead.</p><p>If you&#39;re looking for more resource types, there&#39;s a catalog of them at <a href="https://resource-types.concourse-ci.org/">resource-types.concourse-ci.org</a>.</p>

  
    
  
</div>
    
      <div class="section" id="section_time-to-takeoff">
  
  <h2 class="section-header"><a class="anchor-target" name="time-to-takeoff" href="#time-to-takeoff"></a>Time For Takeoff ✈️</h2>
  

  <p>This brings us to the end of the tutorial. You should have a basic understanding about how to read Concourse pipelines and start creating your own. Here are some other parts of the site to help you take off with Concourse:</p><ul>

  <li><p><a href="how-to-guides.html">How-To Guides</a> - Contains practical guides for <a href="pipeline-guides.html">working with pipelines</a> and examples of common pipeline workflows, such as <a href="git-guides.html">git</a> and <a href="container-image-guides.html">container</a> workflows.</p></li>

  <li><p>Check out all the reference documentation: <ul>

  <li><a href="jobs.html">Jobs</a></li>

  <li><a href="tasks.html">Tasks</a></li>

  <li><a href="resources.html">Resources</a></li>

  <li><a href="resource-types.html">Resource Types</a></li>

</ul></p></li>

  <li><p><a href="implementing-resource-types.html">Implement your own resource type</a></p></li>

  <li><p>Find other resources at <a href="https://resource-types.concourse-ci.org/">resource-types.concourse-ci.org</a> or put <code><em>something</em> concourse resource</code> into your favorite search engine.</p></li>

</ul><p>Best of luck on your automation journey!</p><blockquote class="aside"><p>If you have any feedback for this tutorial please share it in <a href="https://github.com/concourse/concourse/discussions/7353">this GitHub discussion</a></p></blockquote>

  
    
  
</div>
    
  
</div>

          <nav class="prev-next">
          
            <div class="prev">
              prev:

              
              <span class="section-number">1.1.3</span>
              

              <a href="tutorial-inputs-outputs.html">Inputs and Outputs</a>
            </div>
          

          
            <div class="next">
              next:

              
              <span class="section-number">1.2</span>
              

              <a href="install.html">Install</a>
            </div>
          
          </nav>
        </div>

        <div class="page-aside"></div>
      </div>
    </div>

    <ul class="improve-docs">
      <li><img src="images/icons/github-box.svg" /> <a href="https://github.com/concourse/docs">help improve this site</a></li>
      <li><img src="images/booklit.svg" /> powered by <a href="https://vito.github.io/booklit">Booklit</a></li>
    </ul>
  </body>
</html>