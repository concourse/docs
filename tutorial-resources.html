<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=775" />
<title>Resources - Concourse CI</title>
<link rel="stylesheet" type="text/css" href="css/normalize.css" />
<link rel="stylesheet" type="text/css" href="css/pipeline.css" />
<link rel="stylesheet" type="text/css" href="css/iosevka.css" />
<link rel="stylesheet" type="text/css" href="css/booklit.css" />
<link rel="stylesheet" type="text/css" href="css/prism.css" />
<link rel="shortcut icon" type="image/x-icon" href="favicon.ico" />
<link href="https://fonts.googleapis.com/css?family=Barlow:400,400i,700|Roboto+Slab:300,400,700" rel="stylesheet" />
<script src="js/search.js"></script>
<script async type="text/javascript" src="js/prism.js"></script>
<script data-goatcounter="https://concourse.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script>
  </head>
  <body>
    

<div class="page-top">
  <nav class="top-nav">
    <a class="top-link logo-link" href="/"><img src="images/logo-white.svg" />Concourse</a>
    
    <a class="top-link active" href="docs.html">Docs</a>
    
    <a class="top-link" href="examples.html">Examples</a>
    
    <a class="top-link" href="project.html">Project</a>
    
    <a class="top-link" href="ecosystem.html">Ecosystem</a>
    
    <a class="top-link" href="https://resource-types.concourse-ci.org">Resource Types</a>
    <a class="top-link" href="https://blog.concourse-ci.org">blog</a>
    <a class="top-link" href="https://github.com/concourse/concourse/discussions">discuss</a>

    <div id="search"></div>

    <script type="text/javascript">
      var app = Elm.Main.init({
        node: document.getElementById('search')
      });

      app.ports.emitSearchTerm.subscribe(function(term) {
        goatcounter.count({
          path: "search:" + term,
          title: "user searched: " + term,
          event: true
        });
      });
    </script>
  </nav>
</div>

    <div class="page-body">
      <div class="page-nav">
        






  
  
  
  
  

  
  <div class="context">
    <nav>
      <div class="top">
        <span class="section-number">1</span><a href="docs.html"  class="active">Docs</a>
      </div>

      <div class="children">
        <table>
        
          <tr>
            <td class="number-cell">1.1</td>
            <td class="title-cell"><a href="getting-started.html"  class="active">Getting Started</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.2</td>
            <td class="title-cell"><a href="install.html" >Install</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.3</td>
            <td class="title-cell"><a href="auth.html" >Auth &amp; Teams</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.4</td>
            <td class="title-cell"><a href="fly.html" >The <code>fly</code> CLI</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.5</td>
            <td class="title-cell"><a href="config-basics.html" >Config Basics</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.6</td>
            <td class="title-cell"><a href="pipelines.html" >Pipelines</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.7</td>
            <td class="title-cell"><a href="vars.html" >Vars</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.8</td>
            <td class="title-cell"><a href="resources.html" >Resources</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.9</td>
            <td class="title-cell"><a href="resource-types.html" >Resource Types</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.10</td>
            <td class="title-cell"><a href="jobs.html" >Jobs</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.11</td>
            <td class="title-cell"><a href="steps.html" >Steps</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.12</td>
            <td class="title-cell"><a href="tasks.html" >Tasks</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.13</td>
            <td class="title-cell"><a href="builds.html" >Builds</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.14</td>
            <td class="title-cell"><a href="how-to-guides.html" >How-To Guides</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.15</td>
            <td class="title-cell"><a href="operation.html" >Operation</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.16</td>
            <td class="title-cell"><a href="observation.html" >Observation</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.17</td>
            <td class="title-cell"><a href="internals.html" >Internals</a></td>
          </tr>
        
        </table>
      </div>
    </nav>
  </div>
  

  

  
  <div class="context">
    <nav>
      <div class="top">
        <span class="section-number">1.1</span><a href="getting-started.html"  class="active">Getting Started</a>
      </div>

      <div class="children">
        <table>
        
          <tr>
            <td class="number-cell">1.1.1</td>
            <td class="title-cell"><a href="quick-start.html" >Quick Start</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.1.2</td>
            <td class="title-cell"><a href="tutorial-hello-world.html" >Hello World Pipeline</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.1.3</td>
            <td class="title-cell"><a href="tutorial-inputs-outputs.html" >Inputs and Outputs</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.1.4</td>
            <td class="title-cell"><a href="tutorial-resources.html"  class="self">Resources</a></td>
          </tr>
        
        </table>
      </div>
    </nav>
  </div>
  

  

  
  <div class="context">
    <nav>
      <div class="top">
        <span class="section-number">1.1.4</span><a href="tutorial-resources.html"  class="self">Resources</a>
      </div>

      <div class="children">
        <table>
        
          <tr>
            <td class="number-cell">1.1.4.1</td>
            <td class="title-cell"><a href="tutorial-resources.html#the-heart-of-concourse" >The Heart of Concourse</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.1.4.2</td>
            <td class="title-cell"><a href="tutorial-resources.html#versions" >Versions</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.1.4.3</td>
            <td class="title-cell"><a href="tutorial-resources.html#resource-interface" >Resource Interface</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.1.4.4</td>
            <td class="title-cell"><a href="tutorial-resources.html#get-steps" >Get Steps</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.1.4.5</td>
            <td class="title-cell"><a href="tutorial-resources.html#get-steps-and-inputs" >Get Steps and Inputs</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.1.4.6</td>
            <td class="title-cell"><a href="tutorial-resources.html#checks" >Checks</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.1.4.7</td>
            <td class="title-cell"><a href="tutorial-resources.html#put-steps" >Put Steps</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.1.4.8</td>
            <td class="title-cell"><a href="tutorial-resources.html#using-external-resource-types" >Using External Resource Types</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.1.4.9</td>
            <td class="title-cell"><a href="tutorial-resources.html#time-to-takeoff" >Time For Takeoff ✈️</a></td>
          </tr>
        
        </table>
      </div>
    </nav>
  </div>
  



      </div>

      <div class="body-content">
        <div class="page-content">
          <div class="section" id="section_tutorial-resources">
  
  <h1 class="section-header"><a class="anchor-target" name="tutorial-resources" href="#tutorial-resources"></a><span class="section-number">1.1.4 </span>Resources</h1>
  

  

  
    
      <div class="section" id="section_the-heart-of-concourse">
  
  <h2 class="section-header"><a class="anchor-target" name="the-heart-of-concourse" href="#the-heart-of-concourse"></a>The Heart of Concourse</h2>
  

  <p>Resources are the heart of Concourse. Resources make Concourse tick and are the source of automation within all Concourse pipelines. Resources are how Concourse interacts with the outside world. Here&#39;s a short list of some things that resources can do:</p><ul>

  <li><p>You want something to run every five minutes? <a href="https://github.com/concourse/time-resource/">Time resource</a>.</p></li>

  <li><p>You want to run tests on every new commit to the main branch? <a href="https://github.com/concourse/git-resource">Git resource</a>.</p></li>

  <li><p>Run unit tests on new PR&#39;s? <a href="https://github.com/telia-oss/github-pr-resource">Github-PR resource</a>.</p></li>

  <li><p>Fetch or push the latest image of your app? <a href="https://github.com/concourse/registry-image-resource/">Registry-image resource</a></p></li>

</ul><p>Resources can do a lot of things! The main goal of resources is to represent some external system or object in your pipeline. That external thing can then be used as a trigger for your <a href="jobs.html">Jobs</a> or your <a href="jobs.html">Jobs</a> can push back and modify the external system or object. It all depends on the resource you use and what features its author has implemented.</p><p>Resources are also how Concourse tries to stay as technology agnostic as possible. For example, Concourse doesn&#39;t care what <a href="https://en.wikipedia.org/wiki/Version_control">version control system</a> you store your code in, if you deploy apps with <a href="https://helm.sh/">Helm</a> or <a href="https://www.terraform.io/">Terraform</a>, or what language your apps are built in.  If you can put your latest and hottest tech behind the resource interface then Concourse can understand your workflow.</p><p>The Concourse team bundles a few basic resource types that come with the Linux tarball you can <a href="https://github.com/concourse/concourse/releases">download from Github</a>. You&#39;ll notice that the Linux tarball is much larger than the macOS or Windows tarball because of all the bundled resources.</p><blockquote class="aside"><p>You can find out which resources a worker has by running: <pre><code class="language-">$ fly -t tutorial workers --details</code></pre></p></blockquote><p>Resources only run on Linux workers because resources are distributed as Linux container images. There are currently no resources for macOS or Windows. Only <a href="task-step.html">task steps</a> can run on macOS or Windows workers.</p>

  
    
  
</div>
    
      <div class="section" id="section_versions">
  
  <h2 class="section-header"><a class="anchor-target" name="versions" href="#versions"></a>Versions</h2>
  

  <p>Resources represent the external system or object to Concourse by emitting <a href="config-basics.html#schema.version"><code>versions</code></a>. When a new version is emitted by a resource, that is how Concourse knows to start trigger jobs.</p><p>A version is any way that a resource can uniquely identify the state of the external system or object.</p><p>For example, the git resource emits versions based on the SHA of new commits it finds. A single version from the git resource will look like this to Concourse.</p><pre><code class="language-json">{ &#34;ref&#34;: &#34;04194bfc880c457a5b00f07db78d0532620414cc&#34; }</code></pre><p>Let&#39;s start digging into resources a bit more by going over the resource interface.</p>

  
    
  
</div>
    
      <div class="section" id="section_resource-interface">
  
  <h2 class="section-header"><a class="anchor-target" name="resource-interface" href="#resource-interface"></a>Resource Interface</h2>
  

  <p>Resources are <a href="https://en.wikipedia.org/wiki/List_of_Linux_containers">container images</a> that contain three executables. Each executable is run by a different type of <a href="steps.html">step</a> within a pipeline:</p><ul>

  <li><p><code>/opt/resource/check</code> - implicitly run when a <a href="jobs.html">job</a> contains a <a href="get-step.html">get step</a>. Should return the latest version from the external system or object. Its responsibility is to find new versions.</p></li>

  <li><p><code>/opt/resource/in</code> - run in a <a href="get-step.html">get step</a>. <code>in</code> is given a specific version (generated by a <code>check</code> or <a href="put-step.html"><code>put</code> step</a>) and retrieves the files representing that version from the external system or object.</p></li>

  <li><p><code>/opt/resource/out</code> - run in a <a href="put-step.html">put step</a>. Generates a new version, usually based on some input generated by another step in the job. Depending on the resource, this may mean sending something to the external system. For the git resource, this means pushing commits to the external git repository.</p></li>

</ul><p>That&#39;s a high-level overview of the resource interface. Next, we will learn how to add resources to a pipeline.</p>

  
    
  
</div>
    
      <div class="section" id="section_get-steps">
  
  <h2 class="section-header"><a class="anchor-target" name="get-steps" href="#get-steps"></a>Get Steps</h2>
  

  <p>Let&#39;s add some automation to our <code>hello-world.yml</code> pipeline and have it <strong>trigger on every new commit from some git repo</strong>. We will use the <a href="https://github.com/concourse/git-resource/">git resource</a> to accomplish this.</p><p>Before proceeding, please have a git repository ready that you can push code to. The rest of the tutorial will point to <a href="https://github.com/concourse/examples"><code>github.com/concourse/examples</code></a> which you should replace with your own repository or your own fork of <code>concourse/examples</code>.</p><p>To start, let&#39;s go back to the one step version of the pipeline.</p><pre><code class="language-yaml">jobs:
- name: hello-world-job
  plan:
  - task: hello-world-task
    config:
      platform: linux
      image_resource:
        type: registry-image
        source:
          repository: busybox
      run:
        path: echo
        args: [&#34;Hello World!&#34;]</code></pre><p>Now let&#39;s add the <a href="https://github.com/concourse/git-resource/">git resource</a> to the pipeline. First we&#39;ll add the <a href="resources.html"><code>resources</code></a> key to the top-level of our yaml.</p><pre><code class="language-yaml">resources:

jobs:
- name: hello-world-job
  plan:
  - task: hello-world-task
    config:
      platform: linux
      image_resource:
        type: registry-image
        source:
          repository: busybox
      run:
        path: echo
        args: [&#34;Hello World!&#34;]</code></pre><p>The <a href="resources.html"><code>resources</code></a> key takes a list of resources. In our case, we&#39;re going to add one item to that list. We will name the resource <code>repo</code>. This is the name we&#39;ll use to refer to this specific instance of the resource within our pipeline. We&#39;ll define the <a href="resources.html#schema.resource.type"><code>type</code></a> as <code>git</code>, which we got from the output of <code>fly -t tutorial workers --details</code>.</p><pre><code class="language-yaml">resources:
- name: repo
  type: git

jobs:
- name: hello-world-job
  plan:
  - task: hello-world-task
    config:
      platform: linux
      image_resource:
        type: registry-image
        source:
          repository: busybox
      run:
        path: echo
        args: [&#34;Hello World!&#34;]</code></pre><p>There is one last field we need to fill out, the <a href="resources.html#schema.resource.source"><code>source</code></a> field.</p><p>The <code>source</code> field contains the configuration for the resource. By convention, documentation for each resource&#39;s configuration is found in the <code>README</code> of its git repository. The <code>source</code> field will be different for every resource type, so you&#39;ll need to refer to that resource&#39;s documentation to determine how to fill out the <code>source</code> field.</p><p>If we look at the <a href="https://github.com/concourse/git-resource/#source-configuration"><code>README</code> for the git resource</a> we&#39;ll find that it requires we set the <code>uri</code> field. This should point to the location of the git repository. We can specify it in <code>https://</code> or <code>ssh@</code> format.  Let&#39;s add the <code>uri</code> field and set it to your repository.</p><blockquote class="aside"><p>If you use the <code>ssh@</code> format for the <code>uri</code> then you&#39;ll likely need to set the <code>private_key</code> field as well.</p><p>If you use the <code>https://</code> format and your repo is public then you don&#39;t need to set anything else. If you repository is private then you&#39;ll need to set the <code>username</code> and <code>password</code> fields to allow the git resource to authenticate. <code>private_key</code> can also be used for <code>https://</code> uri&#39;s.</p></blockquote><pre><code class="language-yaml">resources:
- name: repo
  type: git
  source:
    uri: https://github.com/concourse/examples.git

jobs:
- name: hello-world-job
  plan:
  - task: hello-world-task
    config:
      platform: linux
      image_resource:
        type: registry-image
        source:
          repository: busybox
      run:
        path: echo
        args: [&#34;Hello World!&#34;]</code></pre><p>Next we need to connect the <code>repo</code> resource to the <code>hello-world-job</code>. We connect the two objects by adding a <a href="get-step.html">get step</a> to the job.</p><pre><code class="language-yaml">resources:
- name: repo
  type: git
  source:
    uri: https://github.com/concourse/examples.git

jobs:
- name: hello-world-job
  plan:
  # Add a get step referencing the resource
  - get: repo
  - task: hello-world-task
    config:
      platform: linux
      image_resource:
        type: registry-image
        source:
          repository: busybox
      run:
        path: echo
        args: [&#34;Hello World!&#34;]</code></pre><p>The final piece is telling Concourse to trigger the <code>hello-world-job</code> whenever the <code>repo</code> resource emits a new version. We can do that by setting <a href="get-step.html#schema.get.trigger"><code>trigger</code></a> to <code>true</code> for the <a href="get-step.html">get step</a>.</p><pre><code class="language-yaml">resources:
- name: repo
  type: git
  source:
    uri: https://github.com/concourse/examples.git

jobs:
- name: hello-world-job
  plan:
  - get: repo
    trigger: true   # tell Concourse to trigger this job when new versions are emitted
  - task: hello-world-task
    config:
      platform: linux
      image_resource:
        type: registry-image
        source:
          repository: busybox
      run:
        path: echo
        args: [&#34;Hello World!&#34;]</code></pre><p>Let&#39;s set our pipeline and watch it automatically trigger from the <a href="http://localhost:8080/teams/main/pipelines/hello-world">web UI</a>.</p><pre><code class="language-">$ fly -t tutorial set-pipeline -p hello-world -c hello-world.yml</code></pre><p><img src="images/tutorial/hello-world-trigger-job.png" alt="" /></p><p>If you <a href="http://localhost:8080/teams/main/pipelines/hello-world/resources/repo">click the resource</a> you&#39;ll see a list of the versions that it has emitted so far. You can expand each version to see which build it was used in and some metadata if the resource fetched any. Metadata is only populated after a version is fetched by a <a href="get-step.html"><code>get</code> step</a>.</p><p>By default, resources will only fetch the most recent version available. At this point you can make commits to your repo and watch Concourse find them and trigger the job. If you want to populate the version history with older versions you can use <a href="managing-resources.html#fly-check-resource"><code>fly check-resource</code></a> with the <code>--from</code> flag.</p>

  
    
  
</div>
    
      <div class="section" id="section_get-steps-and-inputs">
  
  <h2 class="section-header"><a class="anchor-target" name="get-steps-and-inputs" href="#get-steps-and-inputs"></a>Get Steps and Inputs</h2>
  

  <p>Let&#39;s tie together two concepts that we&#39;ve learned so far. <a href="get-step.html">Get steps</a> and <a href="tasks.html#schema.task-config.inputs">task inputs</a>.</p><p>In the previous section we learned that <a href="task-step.html">task steps</a> can specify <a href="tasks.html#schema.task-config.outputs">outputs</a> that other <a href="task-step.html">task steps</a> can then consume as <a href="tasks.html#schema.task-config.inputs">inputs</a>. <a href="get-step.html">Get steps</a> generate one output that can then be consumed by tasks as an <a href="tasks.html#schema.task-config.inputs">input</a>. <a href="get-step.html">Get steps</a> always generate output artifacts based on their name.</p><p>To find out the structure of the artifact generated by a <a href="get-step.html"><code>get</code> step</a> you will have to refer to the resource&#39;s documentation. The documentation for the <a href="https://github.com/concourse/git-resource#in-clone-the-repository-at-the-given-ref">git resource</a> tells us that the <code>in</code> script will clone the git repository.</p><p>Let&#39;s add <code>repo</code> as an input to the <code>hello-world-task</code>. Let&#39;s also update the command the task runs to instead print the contents of some file in the <code>repo</code>.</p><pre><code class="language-yaml">resources:
- name: repo
  type: git
  source:
    uri: https://github.com/concourse/examples.git

jobs:
- name: hello-world-job
  plan:
  - get: repo
    trigger: true
  - task: hello-world-task
    config:
      platform: linux
      image_resource:
        type: registry-image
        source:
          repository: busybox
      inputs: # add the get step as an input to this task
      - name: repo
      run: # read the file from the get step
        path: cat
        args: [&#34;repo/README.md&#34;]</code></pre><p>Set the pipeline and we&#39;ll manually trigger the job.</p><pre><code class="language-">$ fly -t tutorial set-pipeline -p hello-world -c hello-world.yml
$ fly -t tutorial trigger-job --job hello-world/hello-world-job --watch
started hello-world/hello-world-job #44

initializing
selected worker: d032d4471e67
running cat repo/README.md
# examples
Examples of Concourse workflows
succeeded</code></pre><p>The job should finish successfully and print out the contents of <code>repo/README.md</code> or whichever file you selected from your repo.</p>

  
    
  
</div>
    
      <div class="section" id="section_checks">
  
  <h2 class="section-header"><a class="anchor-target" name="checks" href="#checks"></a>Checks</h2>
  

  <p>Checks are how Concourse finds new versions of resources.  In order to find any new versions Concourse has to run the <code>check</code> scripts for all resources across all pipelines. By default, all resources have a <a href="resources.html#schema.resource.check_every"><code>check_every</code> interval</a> of one minute.</p><p>The default <code>check_every</code> interval helps keep Concourse feeling snappy and responsive to changes in external systems. The negative side-effect of this is that if you have a lot of resources all hitting the same system (e.g. an internal Git system) you may end up <a href="https://en.wikipedia.org/wiki/Denial-of-service_attack">DDOS&#39;ing</a> your external system! In these cases you may want to increase the <code>check_every</code> interval of your resource or disable it and use <a href="resources.html#schema.resource.webhook_token">webhooks</a> instead.</p><p>To see the results of the last check that ran, go to the <a href="http://localhost:8080/teams/main/pipelines/hello-world/resources/every-1min">resource&#39;s page in the pipeline</a> and expand the top line that starts with <code>check: &lt;resource-name&gt;</code>.</p><p><img src="images/tutorial/view-check-status.png" alt="" /></p><p>If your resource is having trouble finding new versions or is configured incorrectly the resource will print a message that will be visible on its resource page for you to debug.</p><p>If you want to debug a check container the easiest way to do that will be to start a shell session in the container using <a href="builds.html#fly-intercept"><code>fly intercept</code></a>. You can pass in the URL to the resources page to start a shell session on the resource container.</p><pre><code class="language-">$ fly -t tutorial intercept -u http://localhost:8080/teams/main/pipelines/hello-world/resources/every-1min
root@f5bf10f9-6a95-46e6-4e44-63594dace2e0:/tmp/build/check#</code></pre>

  
    
  
</div>
    
      <div class="section" id="section_put-steps">
  
  <h2 class="section-header"><a class="anchor-target" name="put-steps" href="#put-steps"></a>Put Steps</h2>
  

  <p>The last piece of the resource interface is <a href="put-step.html">put steps</a>. Put steps are generally for pushing some change to the external system or object the resource represents. What this means will vary by resource, so again, you should carefully read the documentation for the specific resource you are using. Each resource is basically its own little application.</p><p>In order to &#34;put&#34; something, in the context of the <a href="https://github.com/concourse/git-resource">git resource</a>, we&#39;ll need to make a commit that can then be &#34;put&#34; to the repo.</p><blockquote class="aside"><p>If you haven&#39;t already, you&#39;ll probably need to provide the git resource with your <code>private_key</code> or a <code>username</code> and <code>password</code>, depending on the format of <code>uri</code> you provided.</p><p>If you&#39;re used to pushing code from your computer you probably have a private key in your <code>~/.ssh/</code> directory that you can use.</p></blockquote><pre><code class="language-yaml">resources:
- name: repo
  type: git
  source:
    # changed uri to ssh format
    uri: git@github.com:concourse/examples.git
    # specify branch because it&#39;s required for the put step
    branch: master
    private_key: |
      -----BEGIN OPENSSH PRIVATE KEY-----
      ...
      -----END OPENSSH PRIVATE KEY-----

jobs:
- name: hello-world-job
  plan:
  - get: repo
    trigger: true
  - task: hello-world-task
    config:
      platform: linux
      image_resource:
        type: registry-image
        source:
          repository: busybox
      inputs:
      - name: repo
      run:
        path: cat
        args: [&#34;repo/README.md&#34;]</code></pre><p>Next let&#39;s change the <code>hello-world-task</code> to instead create a commit. Since we want the commit to propagate to future steps, specifically the <a href="put-step.html"><code>put</code> step</a> we&#39;ll be adding soon, we will also need to add the <code>repo</code> as an output of the task.</p><pre><code class="language-yaml">resources:
- name: repo
  type: git
  source:
    uri: git@github.com:concourse/examples.git
    branch: master
    private_key: |
      -----BEGIN OPENSSH PRIVATE KEY-----
      ...
      -----END OPENSSH PRIVATE KEY-----

jobs:
- name: hello-world-job
  plan:
  - get: repo
    trigger: true
  - task: create-commit # renamed task
    config:
      platform: linux
      image_resource:
        type: registry-image
        source:
          repository: gitea/gitea # use any image that has the git cli
      inputs:
      - name: repo
      outputs: # Add repo as an output
      - name: repo
      params: # Change these to match your ssh key info
        EMAIL: person@example.com
        GIT_AUTHOR_NAME: Person Doe
      run:
        path: sh
        args:
        - -cx
        # this is just a bash script
        - |
          cd repo
          date &#43;%Y-%m-%d &gt; todays-date
          git add ./todays-date
          git config --global user.email $EMAIL
          git config --global user.name $GIT_AUTHOR_NAME
          git commit -m &#34;Update todays date&#34;</code></pre><p>Lastly we can add a <a href="put-step.html"><code>put</code> step</a> to push the commit made by the task. <a href="put-step.html">Put steps</a> usually have various <code>params</code> that you&#39;ll need to set in order run the step correctly. If we read the <a href="https://github.com/concourse/git-resource#out-push-to-a-repository">documentation for the git resource</a> we&#39;ll see that we need to specify <code>repository</code> field.</p><blockquote class="aside"><p>If you&#39;re wondering why we don&#39;t do <code>git push</code> from the task, that&#39;s for two reasons: <ol>

  <li><p>The newly made commit represents a new version and Concourse won&#39;t capture it correctly if it&#39;s pushed from the task, which is outside of the resource interface (check, get, put).</p></li>

  <li><p>The <code>private_key</code> is not available in the task so you would get an authentication error if you <code>git push</code>ed.</p></li>

</ol></p></blockquote><pre><code class="language-yaml">resources:
- name: repo
  type: git
  source:
    uri: git@github.com:concourse/examples.git
    branch: master
    private_key: |
      -----BEGIN OPENSSH PRIVATE KEY-----
      ...
      -----END OPENSSH PRIVATE KEY-----

jobs:
- name: hello-world-job
  plan:
  - get: repo
    trigger: true
  - task: create-commit
    config:
      platform: linux
      image_resource:
        type: registry-image
        source:
          repository: gitea/gitea
      inputs:
      - name: repo
      outputs:
      - name: repo
      params:
        EMAIL: person@example.com
        GIT_AUTHOR_NAME: Person Doe
      run:
        path: sh
        args:
        - -cx
        - |
          cd repo
          date &#43;%Y-%m-%d &gt; todays-date
          git add ./todays-date
          git config --global user.email $EMAIL
          git config --global user.name $GIT_AUTHOR_NAME
          git commit -m &#34;Update todays date&#34;
  - put: repo
    params:
      repository: repo</code></pre><p>Set the pipeline and let&#39;s watch it trigger and run from the <a href="http://localhost:8080/teams/main/pipelines/hello-world">web UI</a>.</p><pre><code class="language-">$ fly -t tutorial set-pipeline -p hello-world -c hello-world.yml</code></pre><p>The job now has the <code>repo</code> resource to the left and right of the <code>hello-world-job</code>. This is how Concourse visually represents the inputs (<a href="get-step.html">get steps</a>) and outputs (<a href="put-step.html">put steps</a>) of a job.</p><p>That covers the basics of resources. It is best of think of each resource as a little application, so carefully read any documentation the resource author has provided. Every resource behaves a little differently based on the external system it is representing.</p>

  
    
  
</div>
    
      <div class="section" id="section_using-external-resource-types">
  
  <h2 class="section-header"><a class="anchor-target" name="using-external-resource-types" href="#using-external-resource-types"></a>Using External Resource Types</h2>
  

  <p>Concourse comes bundled with a lot of resources that are enough for most people to start using Concourse with. However, users will want to extend Concourse to work with all sorts of systems and that means bringing your own <a href="resource-types.html">Resource Types</a>.</p><p>Adding a <a href="resource-types.html">resource type</a> to your pipeline looks very similar to adding a resource. You can even override the bundled resource types by re-declaring them in your pipeline.</p><p>Remember, a resource is a container image. So to pull in a new resource type you need to tell Concourse <em>where</em> to pull the image from. This is done by using the built-in <a href="https://github.com/concourse/registry-image-resource/">registry-image resource</a>. The process of adding a resource type is just like adding a regular resource.</p><p>Here&#39;s an example of using an external resource type to read an <a href="https://github.com/suhlig/concourse-rss-resource">rss feed</a>.</p><pre><code class="language-yaml">resource_types:
# declare the new resource type
- name: rss
  type: registry-image
  source:
    repository: suhlig/concourse-rss-resource
    tag: latest

resources:
# use the resource as usual
- name: dino-feed
  type: rss
  source:
    url: http://www.qwantz.com/rssfeed.php

jobs:
- name: announce
  plan:
  - get: dino-feed
    trigger: true</code></pre><p>That&#39;s how you add external resource types to your pipeline. If you&#39;re looking for more resource types there&#39;s a catalog of them at <a href="https://resource-types.concourse-ci.org/">resource-types.concourse-ci.org</a>.</p>

  
    
  
</div>
    
      <div class="section" id="section_time-to-takeoff">
  
  <h2 class="section-header"><a class="anchor-target" name="time-to-takeoff" href="#time-to-takeoff"></a>Time For Takeoff ✈️</h2>
  

  <p>This brings us to the end of the tutorial. You should have a basic understanding about how to read Concourse pipelines and start creating your own. Here are some other parts of the site to help you take off with Concourse:</p><ul>

  <li><p><a href="how-to-guides.html">How-To Guides</a> - Contains tips for writing pipelines and examples of common pipeline workflows</p></li>

  <li><p>Check out all the reference documentation: <ul>

  <li><a href="jobs.html">Jobs</a></li>

  <li><a href="tasks.html">Tasks</a></li>

  <li><a href="resources.html">Resources</a></li>

  <li><a href="resource-types.html">Resource Types</a></li>

</ul></p></li>

  <li><p><a href="implementing-resource-types.html">Implement your own resource type</a></p></li>

  <li><p>Find other resources at <a href="https://resource-types.concourse-ci.org/">resource-types.concourse-ci.org</a> or put <code><em>something</em> concourse resource</code> into your favorite search engine.</p></li>

</ul><p>Best of luck on your automation journey!</p><blockquote class="aside"><p>If you have any feedback for this tutorial please share it in <a href="https://github.com/concourse/concourse/discussions/7353">this GitHub discussion</a></p></blockquote>

  
    
  
</div>
    
  
</div>

          <nav class="prev-next">
          
            <div class="prev">
              prev:

              
              <span class="section-number">1.1.3</span>
              

              <a href="tutorial-inputs-outputs.html">Inputs and Outputs</a>
            </div>
          

          
            <div class="next">
              next:

              
              <span class="section-number">1.2</span>
              

              <a href="install.html">Install</a>
            </div>
          
          </nav>
        </div>

        <div class="page-aside"></div>
      </div>
    </div>

    <ul class="improve-docs">
      <li><img src="images/icons/github-box.svg" /> <a href="https://github.com/concourse/docs">help improve this site</a></li>
      <li><img src="images/booklit.svg" /> powered by <a href="https://vito.github.io/booklit">Booklit</a></li>
    </ul>
  </body>
</html>