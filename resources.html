<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=775" />
<title>Resources - Concourse CI</title>
<link rel="stylesheet" type="text/css" href="css/normalize.css" />
<link rel="stylesheet" type="text/css" href="css/pipeline.css" />
<link rel="stylesheet" type="text/css" href="css/iosevka.css" />
<link rel="stylesheet" type="text/css" href="css/booklit.css" />
<link rel="stylesheet" type="text/css" href="css/prism.css" />
<link rel="shortcut icon" type="image/x-icon" href="favicon.ico" />
<link href="https://fonts.googleapis.com/css?family=Barlow:400,400i,700|Roboto+Slab:300,400,700" rel="stylesheet" />
<script src="js/search.js"></script>
<script async type="text/javascript" src="js/prism.js"></script>
<script data-goatcounter="https://concourse.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script>
  </head>
  <body>
    <div class="page-top">
      <nav class="top-nav">
  <a class="top-link logo-link" href="/"><img src="images/logo-white.svg" />Concourse</a>
  
  <a class="top-link active" href="docs.html">Docs</a>
  
  <a class="top-link" href="examples.html">Examples</a>
  
  <a class="top-link" href="project.html">Project</a>
  
  <a class="top-link" href="https://resource-types.concourse-ci.org">Resource Types</a>
  <a class="top-link" href="https://blog.concourse-ci.org">blog</a>
  <a class="top-link" href="https://discuss.concourse-ci.org">discuss</a>

  <div id="search"></div>

  <script type="text/javascript">
    var app = Elm.Main.init({
      node: document.getElementById('search')
    });

    app.ports.emitSearchTerm.subscribe(function(term) {
      goatcounter.count({
        event: "search:"+term,
        title: "user searched: " + term,
        event: true
      });
    });
  </script>
</nav>
    </div>

    <div class="page-body">
      <div class="page-nav">
        






  
  
  

  
  <div class="context">
    <nav>
      <div class="top">
        <span class="section-number">1</span><a href="docs.html"  class="active">Docs</a>
      </div>

      <div class="children">
        <table>
        
          <tr>
            <td class="number-cell">1.1</td>
            <td class="title-cell"><a href="install.html" >Install</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.2</td>
            <td class="title-cell"><a href="auth.html" >Auth &amp; Teams</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.3</td>
            <td class="title-cell"><a href="fly.html" >The <code>fly</code> CLI</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.4</td>
            <td class="title-cell"><a href="config-basics.html" >Config Basics</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.5</td>
            <td class="title-cell"><a href="pipelines.html" >Pipelines</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.6</td>
            <td class="title-cell"><a href="vars.html" >Vars</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.7</td>
            <td class="title-cell"><a href="resources.html"  class="self">Resources</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.8</td>
            <td class="title-cell"><a href="resource-types.html" >Resource Types</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.9</td>
            <td class="title-cell"><a href="jobs.html" >Jobs</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.10</td>
            <td class="title-cell"><a href="tasks.html" >Tasks</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.11</td>
            <td class="title-cell"><a href="builds.html" >Builds</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.12</td>
            <td class="title-cell"><a href="operation.html" >Operation</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.13</td>
            <td class="title-cell"><a href="observation.html" >Observation</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.14</td>
            <td class="title-cell"><a href="internals.html" >Internals</a></td>
          </tr>
        
        </table>
      </div>
    </nav>
  </div>
  

  

  
  <div class="context">
    <nav>
      <div class="top">
        <span class="section-number">1.7</span><a href="resources.html"  class="self">Resources</a>
      </div>

      <div class="children">
        <table>
        
          <tr>
            <td class="number-cell">1.7.1</td>
            <td class="title-cell"><a href="resource-versions.html" >Resource Versions</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.7.2</td>
            <td class="title-cell"><a href="managing-resources.html" >Managing Resources</a></td>
          </tr>
        
        </table>
      </div>
    </nav>
  </div>
  



<div class="context">
  <div class="Top">
    On this page:
  </div>

  <div class="children anchors">
    <table>
      
      <tr>
        <td class="number-cell"><code>#</code></td>
        <td class="title-cell"><a href="resources.html#schema.resource"><strong><code>resource</code></strong> schema</a></td>
      </tr>
      
      <tr>
        <td class="number-cell"><code>#</code></td>
        <td class="title-cell"><a href="resources.html#schema.resource.name"><code class="schema-attribute-name"><bold>resource<wbr />.name</bold></code></a></td>
      </tr>
      
      <tr>
        <td class="number-cell"><code>#</code></td>
        <td class="title-cell"><a href="resources.html#schema.resource.type"><code class="schema-attribute-name"><bold>resource<wbr />.type</bold></code></a></td>
      </tr>
      
      <tr>
        <td class="number-cell"><code>#</code></td>
        <td class="title-cell"><a href="resources.html#schema.resource.source"><code class="schema-attribute-name"><bold>resource<wbr />.source</bold></code></a></td>
      </tr>
      
      <tr>
        <td class="number-cell"><code>#</code></td>
        <td class="title-cell"><a href="resources.html#schema.resource.old_name"><code class="schema-attribute-name"><bold>resource<wbr />.old_name</bold></code></a></td>
      </tr>
      
      <tr>
        <td class="number-cell"><code>#</code></td>
        <td class="title-cell"><a href="resources.html#schema.resource.icon"><code class="schema-attribute-name"><bold>resource<wbr />.icon</bold></code></a></td>
      </tr>
      
      <tr>
        <td class="number-cell"><code>#</code></td>
        <td class="title-cell"><a href="resources.html#schema.resource.version"><code class="schema-attribute-name"><bold>resource<wbr />.version</bold></code></a></td>
      </tr>
      
      <tr>
        <td class="number-cell"><code>#</code></td>
        <td class="title-cell"><a href="resources.html#schema.resource.check_every"><code class="schema-attribute-name"><bold>resource<wbr />.check_every</bold></code></a></td>
      </tr>
      
      <tr>
        <td class="number-cell"><code>#</code></td>
        <td class="title-cell"><a href="resources.html#schema.resource.tags"><code class="schema-attribute-name"><bold>resource<wbr />.tags</bold></code></a></td>
      </tr>
      
      <tr>
        <td class="number-cell"><code>#</code></td>
        <td class="title-cell"><a href="resources.html#schema.resource.public"><code class="schema-attribute-name"><bold>resource<wbr />.public</bold></code></a></td>
      </tr>
      
      <tr>
        <td class="number-cell"><code>#</code></td>
        <td class="title-cell"><a href="resources.html#schema.resource.webhook_token"><code class="schema-attribute-name"><bold>resource<wbr />.webhook_token</bold></code></a></td>
      </tr>
      

      
  

    </table>
  </div>
</div>

      </div>

      <div class="body-content">
        <div class="page-content">
          <div class="section" id="section_resources">
  
  <h1 class="section-header"><a class="anchor-target" name="resources" href="#resources"></a><span class="section-number">1.7 </span>Resources</h1>
  

  <p>Resources are the heart and soul of Concourse. They represent all external inputs to and outputs of <a href="jobs.html">jobs</a> in the pipeline.</p><p>Each resource represents a versioned artifact with an external source of truth. Configuring the same resource in any pipeline on any Concourse cluster will behave the exact same way. Concourse will continuously <code>check</code> each configured resource to discover new versions. These versions then flow through the pipeline via <a href="jobs.html#get-step"><code>get</code> step</a>s configured on <a href="jobs.html">Jobs</a>.</p><p>A pipeline&#39;s resources are listed under <a href="pipelines.html#schema.pipeline.resources"><code class="schema-attribute-name"><bold>pipeline<wbr />.resources</bold></code></a> with the following schema.</p><div class="schema">
  <h2 class="schema-header"><a class="anchor-target" name="schema.resource" href="#schema.resource"></a><code>resource</code> schema</h2>

  <div class="toggleable schema-attribute required">
  <input id="toggle-schema.resource.name" type="checkbox" class="toggle" />
  <label for="toggle-schema.resource.name" class="toggle-title">
    <a id="schema.resource.name"></a>

    <code><a class="attribute-name" href="#schema.resource.name">name</a>: <span class="attribute-type"><a href="config-basics.html#schema.identifier"><strong>identifier</strong></a></span></code>
  </label>

  <div class="toggle-content attribute-content">
    <p>The name of the resource. This should be short and simple. This name will be referenced by <a href="jobs.html#steps">build plans</a> of jobs in the pipeline.</p>
  </div>
</div><div class="toggleable schema-attribute required">
  <input id="toggle-schema.resource.type" type="checkbox" class="toggle" />
  <label for="toggle-schema.resource.type" class="toggle-title">
    <a id="schema.resource.type"></a>

    <code><a class="attribute-name" href="#schema.resource.type">type</a>: <span class="attribute-type"><a href="resource-types.html#schema.resource_type.name"><strong>resource_type.name</strong></a></span></code>
  </label>

  <div class="toggle-content attribute-content">
    <p>The <a href="resource-types.html">resource type</a> implementing the resource.</p>
  </div>
</div><div class="toggleable schema-attribute required">
  <input id="toggle-schema.resource.source" type="checkbox" class="toggle" />
  <label for="toggle-schema.resource.source" class="toggle-title">
    <a id="schema.resource.source"></a>

    <code><a class="attribute-name" href="#schema.resource.source">source</a>: <span class="attribute-type"><a href="config-basics.html#schema.config"><strong>config</strong></a></span></code>
  </label>

  <div class="toggle-content attribute-content">
    <p>The location of the resource. This varies by resource type, and is a black box to Concourse; it is blindly passed to the resource at runtime.</p><p>To use <code>git</code> as an example, the source may contain the repo URI, the branch of the repo to track, and a private key to use when pushing/pulling.</p><p>By convention, documentation for each resource type&#39;s configuration is in each implementation&#39;s <code>README</code>.</p><p>You can find the source for the resource types provided with Concourse at the <a href="https://github.com/concourse?query=-resource">Concourse GitHub organization</a>.</p>
  </div>
</div><div class="toggleable schema-attribute optional">
  <input id="toggle-schema.resource.old_name" type="checkbox" class="toggle" />
  <label for="toggle-schema.resource.old_name" class="toggle-title">
    <a id="schema.resource.old_name"></a>

    <code><a class="attribute-name" href="#schema.resource.old_name">old_name</a>: <span class="attribute-type"><a href="config-basics.html#schema.identifier"><strong>identifier</strong></a></span></code>
  </label>

  <div class="toggle-content attribute-content">
    <p>The old name of the resource. If configured, the history of the old resource will be inherited to the new one. Once the pipeline is set, this field can be removed as the history has been transferred.</p><div class="toggleable example">
  <input id="toggle-6a6a75e552944d7d3644bfa16e5ccf6a1b2e72c1" type="checkbox" class="toggle" />
  <label for="toggle-6a6a75e552944d7d3644bfa16e5ccf6a1b2e72c1" class="toggle-title">Renaming a resource</label>
  <div class="toggle-content">
    <p>This can be used to rename a resource without losing its history, like so:</p><pre><code class="language-yaml">resources:
- name: new-name
  old_name: current-name
  type: git
  source: uri: &#34;https://github.com/vito/booklit&#34;</code></pre><p>After the pipeline is set, the resource was successfully renamed, so the `old_name` field can be removed from the resource:</p><pre><code class="language-yaml">resources:
- name: new-name
  type: git
  source: uri: &#34;https://github.com/vito/booklit&#34;</code></pre>
  </div>
</div>
  </div>
</div><div class="toggleable schema-attribute optional">
  <input id="toggle-schema.resource.icon" type="checkbox" class="toggle" />
  <label for="toggle-schema.resource.icon" class="toggle-title">
    <a id="schema.resource.icon"></a>

    <code><a class="attribute-name" href="#schema.resource.icon">icon</a>: <span class="attribute-type"><a href="config-basics.html#schema.string"><strong>string</strong></a></span></code>
  </label>

  <div class="toggle-content attribute-content">
    <p>The name of a <a href="https://materialdesignicons.com/">Material Design icon</a> to show next to the resource name in the web UI. For example, <code>github</code>.</p>
  </div>
</div><div class="toggleable schema-attribute optional">
  <input id="toggle-schema.resource.version" type="checkbox" class="toggle" />
  <label for="toggle-schema.resource.version" class="toggle-title">
    <a id="schema.resource.version"></a>

    <code><a class="attribute-name" href="#schema.resource.version">version</a>: <span class="attribute-type"><a href="config-basics.html#schema.version"><strong>version</strong></a></span></code>
  </label>

  <div class="toggle-content attribute-content">
    <p>A version to pin the resource to across the pipeline. This has the same effect as setting <a href="jobs.html#schema.step.get-step.version"><code>get</code> step <strong><code>version</code></strong></a> on every <a href="jobs.html#get-step"><code>get</code> step</a> referencing the resource.</p><p>Resources can also be temporarily pinned to a version via the API and web UI. However this functionality is disabled if the resource is pinned via configuration, and if a pipeline is configured to have a version pinned while also pinned in the web UI, the configuration takes precedence and will clear out the temporary pin.</p>
  </div>
</div><div class="toggleable schema-attribute optional">
  <input id="toggle-schema.resource.check_every" type="checkbox" class="toggle" />
  <label for="toggle-schema.resource.check_every" class="toggle-title">
    <a id="schema.resource.check_every"></a>

    <code><a class="attribute-name" href="#schema.resource.check_every">check_every</a>: <span class="attribute-type"><a href="config-basics.html#schema.duration"><strong>duration</strong></a></span></code>
  </label>

  <div class="toggle-content attribute-content">
    <p><em>Default <code>1m</code>.</em> The interval on which to check for new versions of the resource. Acceptable interval options are defined by the <a href="https://golang.org/pkg/time/#ParseDuration">time.ParseDuration function</a>.</p>
  </div>
</div><div class="toggleable schema-attribute optional">
  <input id="toggle-schema.resource.tags" type="checkbox" class="toggle" />
  <label for="toggle-schema.resource.tags" class="toggle-title">
    <a id="schema.resource.tags"></a>

    <code><a class="attribute-name" href="#schema.resource.tags">tags</a>: <span class="attribute-type">[<a href="config-basics.html#schema.string"><strong>string</strong></a>]</span></code>
  </label>

  <div class="toggle-content attribute-content">
    <p><em>Default <code>[]</code>.</em> A list of tags to determine which workers the checks will be performed on. You&#39;ll want to specify this if the source is internal to a worker&#39;s network, for example. See also <a href="jobs.html#schema.step.tags"><code class="schema-attribute-name"><bold>step<wbr />.tags</bold></code></a>.</p>
  </div>
</div><div class="toggleable schema-attribute optional">
  <input id="toggle-schema.resource.public" type="checkbox" class="toggle" />
  <label for="toggle-schema.resource.public" class="toggle-title">
    <a id="schema.resource.public"></a>

    <code><a class="attribute-name" href="#schema.resource.public">public</a>: <span class="attribute-type"><a href="config-basics.html#schema.boolean"><strong>boolean</strong></a></span></code>
  </label>

  <div class="toggle-content attribute-content">
    <p><em>Default <code>false</code>.</em> If set to <code>true</code>, the metadata for each version of the resource will be viewable by unauthenticated users (assuming the pipeline has been <a href="exposing.html">exposed</a>).</p><p>Resource metadata should never contain credentials or secret information, but this is off by default just to be safe in case users don&#39;t want to show things like commit messages and authors to the public.</p><p>Note: even when set to <code>false</code>, the versions identifiers will be visible. In addition, if a resource is fetched in a build whose job is marked <a href="jobs.html#schema.job.public"><code class="schema-attribute-name"><bold>job<wbr />.public</bold></code></a>, metadata will be visible in the build output.</p>
  </div>
</div><div class="toggleable schema-attribute optional">
  <input id="toggle-schema.resource.webhook_token" type="checkbox" class="toggle" />
  <label for="toggle-schema.resource.webhook_token" class="toggle-title">
    <a id="schema.resource.webhook_token"></a>

    <code><a class="attribute-name" href="#schema.resource.webhook_token">webhook_token</a>: <span class="attribute-type"><a href="config-basics.html#schema.string"><strong>string</strong></a></span></code>
  </label>

  <div class="toggle-content attribute-content">
    <p>If specified, web hooks can be sent to trigger an immediate <em>check</em> of the resource, specifying this value as a primitive form of authentication via query params.</p><p>After configuring this value, you would then configure your hook sender with the following painfully long path appended to your external URL:</p><pre>/api/v1/teams/TEAM_NAME/pipelines/PIPELINE_NAME/resources/RESOURCE_NAME/check/webhook?webhook_token=WEBHOOK_TOKEN</pre><p>Note that the request payload sent to this API endpoint is entirely ignored. You should configure the resource as if you&#39;re not using web hooks, as the resource config is still the &#34;source of truth.&#34;</p>
  </div>
</div>
</div><div class="table-of-contents">
  <span class="toc-header">Table of contents:</span>

  
  
  <ol class="toc">
  
    <li>
      <span class="section-number">1.7.1</span>
      <a href="resource-versions.html">Resource Versions</a>

      
  
  <ol class="toc">
  
    <li>
      <span class="section-number">1.7.1.1</span>
      <a href="resource-versions.html#where-and-what-versions">Where do they come from and what are they used for?</a>

      
  
  
    </li>
  
    <li>
      <span class="section-number">1.7.1.2</span>
      <a href="resource-versions.html#version-pinning">Version Pinning</a>

      
  
  <ol class="toc">
  
    <li>
      <span class="section-number">1.7.1.2.1</span>
      <a href="resource-versions.html#version-unpinning">Unpinning</a>

      
  
  
    </li>
  
  </ol>
  
  
    </li>
  
    <li>
      <span class="section-number">1.7.1.3</span>
      <a href="resource-versions.html#disable-version">Disabling a Version</a>

      
  
  
    </li>
  
  </ol>
  
  
    </li>
  
    <li>
      <span class="section-number">1.7.2</span>
      <a href="managing-resources.html">Managing Resources</a>

      
  
  <ol class="toc">
  
    <li>
      <span class="section-number">1.7.2.1</span>
      <a href="managing-resources.html#fly-check-resource"><code>fly check-resource</code></a>

      
  
  
    </li>
  
    <li>
      <span class="section-number">1.7.2.2</span>
      <a href="managing-resources.html#fly-pin-resource"><code>fly pin-resource</code></a>

      
  
  
    </li>
  
    <li>
      <span class="section-number">1.7.2.3</span>
      <a href="managing-resources.html#fly-enable-resource-version"><code>fly enable-resource-version</code></a>

      
  
  
    </li>
  
    <li>
      <span class="section-number">1.7.2.4</span>
      <a href="managing-resources.html#fly-disable-resource-version"><code>fly disable-resource-version</code></a>

      
  
  
    </li>
  
  </ol>
  
  
    </li>
  
  </ol>
  
  
</div>

  
</div>

          <nav class="prev-next">
          
            <div class="prev">
              prev:

              
              <span class="section-number">1.6</span>
              

              <a href="vars.html">Vars</a>
            </div>
          

          
            <div class="next">
              next:

              
              <span class="section-number">1.7.1</span>
              

              <a href="resource-versions.html">Resource Versions</a>
            </div>
          
          </nav>
        </div>

        <div class="page-aside">
          <div class="page-partial">
            <div class="content">
  <h2>Examples</h2>

  <div class="example">
  <h3><code>git</code> resource</h3>

  <p>The following resource definition is an example of the <a href="https://github.com/concourse/git-resource"><code>git</code> resource</a>:</p><pre><code class="language-yaml">name: booklit
type: git
source: {uri: &#34;https://github.com/vito/booklit&#34;}</code></pre><p>This could be passed to a job via a <a href="jobs.html#get-step"><code>get</code> step</a> with <a href="jobs.html#schema.step.get-step.trigger"><code>trigger: true</code></a> to run the tests whenever there&#39;s new code:</p><pre><code class="language-yaml">resources:
- name: booklit
  type: git
  source: {uri: &#34;https://github.com/vito/booklit&#34;}

jobs:
- name: unit
  plan:
  - get: booklit
    trigger: true
  - task: test
    file: booklit/ci/test.yml</code></pre>
</div><div class="example">
  <h3><code>time</code> resource</h3>

  <p>The following resource emits a new version every hour:</p><pre><code class="language-yaml">name: 1h
type: time
source: {interval: 1h}</code></pre><p>This could be passed to a job via a <a href="jobs.html#get-step"><code>get</code> step</a> with <a href="jobs.html#schema.step.get-step.trigger"><code>trigger: true</code></a> to run the job periodically:</p><pre><code class="language-yaml">resources:
- name: 1h
  type: time
  source: {interval: 1h}

jobs:
- name: nag
  plan:
  - get: 1h
    trigger: true
  - task: nag
    config: # ...</code></pre>
</div>
</div>
          </div>
          </div>
      </div>
    </div>

    <ul class="improve-docs">
      <li><img src="images/icons/github-box.svg" /> <a href="https://github.com/concourse/docs">help improve this site</a></li>
      <li><img src="images/booklit.svg" /> powered by <a href="https://vito.github.io/booklit">Booklit</a></li>
    </ul>
  </body>
</html>