<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=775" />
<title>Resource Types - Concourse CI</title>
<link rel="stylesheet" type="text/css" href="css/normalize.css" />
<link rel="stylesheet" type="text/css" href="css/pipeline.css" />
<link rel="stylesheet" type="text/css" href="css/iosevka.css" />
<link rel="stylesheet" type="text/css" href="css/booklit.css" />
<link rel="stylesheet" type="text/css" href="css/prism.css" />
<link rel="shortcut icon" type="image/x-icon" href="favicon.ico" />
<link href="https://fonts.googleapis.com/css?family=Barlow:400,400i,700|Roboto+Slab:300,400,700" rel="stylesheet" />
<script src="js/search.js"></script>
<script async type="text/javascript" src="js/prism.js"></script>
<script data-goatcounter="https://concourse.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script>
  </head>
  <body>
    

<div class="page-top">
  <nav class="top-nav">
    <a class="top-link logo-link" href="/"><img src="images/logo-white.svg" />Concourse</a>
    
    <a class="top-link active" href="docs.html">Docs</a>
    
    <a class="top-link" href="examples.html">Examples</a>
    
    <a class="top-link" href="project.html">Project</a>
    
    <a class="top-link" href="ecosystem.html">Ecosystem</a>
    
    <a class="top-link" href="https://resource-types.concourse-ci.org">Resource Types</a>
    <a class="top-link" href="https://blog.concourse-ci.org">blog</a>
    <a class="top-link" href="https://github.com/concourse/concourse/discussions">discuss</a>

    <div id="search"></div>

    <script type="text/javascript">
      var app = Elm.Main.init({
        node: document.getElementById('search')
      });

      app.ports.emitSearchTerm.subscribe(function(term) {
        goatcounter.count({
          path: "search:" + term,
          title: "user searched: " + term,
          event: true
        });
      });
    </script>
  </nav>
</div>

    <div class="page-body">
      <div class="page-nav">
        






  
  
  

  
  <div class="context">
    <nav>
      <div class="top">
        <span class="section-number">1</span><a href="docs.html"  class="active">Docs</a>
      </div>

      <div class="children">
        <table>
        
          <tr>
            <td class="number-cell">1.1</td>
            <td class="title-cell"><a href="getting-started.html" >Getting Started</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.2</td>
            <td class="title-cell"><a href="install.html" >Install</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.3</td>
            <td class="title-cell"><a href="auth.html" >Auth &amp; Teams</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.4</td>
            <td class="title-cell"><a href="fly.html" >The <code>fly</code> CLI</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.5</td>
            <td class="title-cell"><a href="config-basics.html" >Config Basics</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.6</td>
            <td class="title-cell"><a href="pipelines.html" >Pipelines</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.7</td>
            <td class="title-cell"><a href="vars.html" >Vars</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.8</td>
            <td class="title-cell"><a href="resources.html" >Resources</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.9</td>
            <td class="title-cell"><a href="resource-types.html"  class="self">Resource Types</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.10</td>
            <td class="title-cell"><a href="jobs.html" >Jobs</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.11</td>
            <td class="title-cell"><a href="steps.html" >Steps</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.12</td>
            <td class="title-cell"><a href="tasks.html" >Tasks</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.13</td>
            <td class="title-cell"><a href="builds.html" >Builds</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.14</td>
            <td class="title-cell"><a href="how-to-guides.html" >How-To Guides</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.15</td>
            <td class="title-cell"><a href="operation.html" >Operation</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.16</td>
            <td class="title-cell"><a href="observation.html" >Observation</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.17</td>
            <td class="title-cell"><a href="internals.html" >Internals</a></td>
          </tr>
        
        </table>
      </div>
    </nav>
  </div>
  

  

  
  <div class="context">
    <nav>
      <div class="top">
        <span class="section-number">1.9</span><a href="resource-types.html"  class="self">Resource Types</a>
      </div>

      <div class="children">
        <table>
        
          <tr>
            <td class="number-cell">1.9.1</td>
            <td class="title-cell"><a href="implementing-resource-types.html" >Implementing a Resource Type</a></td>
          </tr>
        
          <tr>
            <td class="number-cell">1.9.2</td>
            <td class="title-cell"><a href="managing-resource-types.html" >Managing Resource Types</a></td>
          </tr>
        
        </table>
      </div>
    </nav>
  </div>
  



<div class="context">
  <div class="Top">
    On this page:
  </div>

  <div class="children anchors">
    <table>
      
      <tr>
        <td class="number-cell"><code>#</code></td>
        <td class="title-cell"><a href="resource-types.html#schema.resource_type"><strong><code>resource_type</code></strong> schema</a></td>
      </tr>
      
      <tr>
        <td class="number-cell"><code>#</code></td>
        <td class="title-cell"><a href="resource-types.html#schema.resource_type.name"><code class="schema-attribute-name"><bold>resource_type<wbr />.name</bold></code></a></td>
      </tr>
      
      <tr>
        <td class="number-cell"><code>#</code></td>
        <td class="title-cell"><a href="resource-types.html#schema.resource_type.type"><code class="schema-attribute-name"><bold>resource_type<wbr />.type</bold></code></a></td>
      </tr>
      
      <tr>
        <td class="number-cell"><code>#</code></td>
        <td class="title-cell"><a href="resource-types.html#schema.resource_type.source"><code class="schema-attribute-name"><bold>resource_type<wbr />.source</bold></code></a></td>
      </tr>
      
      <tr>
        <td class="number-cell"><code>#</code></td>
        <td class="title-cell"><a href="resource-types.html#schema.resource_type.privileged"><code class="schema-attribute-name"><bold>resource_type<wbr />.privileged</bold></code></a></td>
      </tr>
      
      <tr>
        <td class="number-cell"><code>#</code></td>
        <td class="title-cell"><a href="resource-types.html#schema.resource_type.params"><code class="schema-attribute-name"><bold>resource_type<wbr />.params</bold></code></a></td>
      </tr>
      
      <tr>
        <td class="number-cell"><code>#</code></td>
        <td class="title-cell"><a href="resource-types.html#schema.resource_type.check_every"><code class="schema-attribute-name"><bold>resource_type<wbr />.check_every</bold></code></a></td>
      </tr>
      
      <tr>
        <td class="number-cell"><code>#</code></td>
        <td class="title-cell"><a href="resource-types.html#schema.resource_type.tags"><code class="schema-attribute-name"><bold>resource_type<wbr />.tags</bold></code></a></td>
      </tr>
      
      <tr>
        <td class="number-cell"><code>#</code></td>
        <td class="title-cell"><a href="resource-types.html#schema.resource_type.defaults"><code class="schema-attribute-name"><bold>resource_type<wbr />.defaults</bold></code></a></td>
      </tr>
      

      
  

    </table>
  </div>
</div>

      </div>

      <div class="body-content">
        <div class="page-content">
          <div class="section" id="section_resource-types">
  
  <h1 class="section-header"><a class="anchor-target" name="resource-types" href="#resource-types"></a><span class="section-number">1.9 </span>Resource Types</h1>
  

  <p>Each resource in a pipeline has a <code>type</code>. The resource&#39;s type determines what versions are detected, the bits that are fetched when the resource&#39;s <a href="get-step.html"><code>get</code> step</a> runs, and the side effect that occurs when the resource&#39;s <a href="put-step.html"><code>put</code> step</a> runs.</p><p>Concourse comes with a few &#34;core&#34; resource types to cover common use cases like <code>git</code> and <code>s3</code> - the rest are developed and supported by the Concourse community. An exhaustive list of all resource types is available in the <a href="https://resource-types.concourse-ci.org">Resource Types catalog</a>.</p><p>A pipeline&#39;s resource types are listed under <a href="pipelines.html#schema.pipeline.resource_types"><code class="schema-attribute-name"><bold>pipeline<wbr />.resource_types</bold></code></a> with the following schema:</p><div class="schema">
  <h2 class="schema-header"><a class="anchor-target" name="schema.resource_type" href="#schema.resource_type"></a><code>resource_type</code> schema</h2>

  <div class="toggleable schema-attribute required">
  <input id="toggle-schema.resource_type.name" type="checkbox" class="toggle" />
  <label for="toggle-schema.resource_type.name" class="toggle-title">
    <a id="schema.resource_type.name"></a>

    <code><a class="attribute-name" href="#schema.resource_type.name">name</a>: <span class="attribute-type"><a href="config-basics.html#schema.identifier"><strong>identifier</strong></a></span></code>
  </label>

  <div class="toggle-content attribute-content">
    <p>The name of the resource type. This should be short and simple. This name will be referenced by <a href="pipelines.html#schema.pipeline.resources"><code class="schema-attribute-name"><bold>pipeline<wbr />.resources</bold></code></a> defined within the same pipeline, and <a href="tasks.html#schema.task-config.image_resource"><code class="schema-attribute-name"><bold>task-config<wbr />.image_resource</bold></code></a>s used by tasks running in the pipeline.</p><p>Pipeline-provided resource types can override the core resource types by specifying the same name.</p>
  </div>
</div><div class="toggleable schema-attribute required">
  <input id="toggle-schema.resource_type.type" type="checkbox" class="toggle" />
  <label for="toggle-schema.resource_type.type" class="toggle-title">
    <a id="schema.resource_type.type"></a>

    <code><a class="attribute-name" href="#schema.resource_type.type">type</a>: <span class="attribute-type"><a href="resource-types.html#schema.resource_type.name"><strong>resource_type.name</strong></a> | <a href="config-basics.html#schema.identifier"><strong>identifier</strong></a></span></code>
  </label>

  <div class="toggle-content attribute-content">
    <p>The type of the resource used to provide the resource type&#39;s container image.</p><p>This is a bit meta. Usually this value will be <code>registry-image</code> as the resource type must result in a container image.</p><p>A resource type&#39;s type can refer to other resource types, and can also use the core type that it&#39;s overriding. This is useful for bringing in a newer or forked <code>registry-image</code> resource.</p>
  </div>
</div><div class="toggleable schema-attribute required">
  <input id="toggle-schema.resource_type.source" type="checkbox" class="toggle" />
  <label for="toggle-schema.resource_type.source" class="toggle-title">
    <a id="schema.resource_type.source"></a>

    <code><a class="attribute-name" href="#schema.resource_type.source">source</a>: <span class="attribute-type"><a href="config-basics.html#schema.config"><strong>config</strong></a></span></code>
  </label>

  <div class="toggle-content attribute-content">
    <p>The configuration for the resource type&#39;s resource. This varies by resource type, and is a black box to Concourse; it is blindly passed to the resource at runtime.</p><p>To use <code>registry-image</code> as an example, the source would contain something like <code>repository: username/reponame</code>. See the <a href="https://github.com/concourse/registry-image-resource">Registry Image resource</a> (or whatever resource type your resource type uses) for more information.</p>
  </div>
</div><div class="toggleable schema-attribute optional">
  <input id="toggle-schema.resource_type.privileged" type="checkbox" class="toggle" />
  <label for="toggle-schema.resource_type.privileged" class="toggle-title">
    <a id="schema.resource_type.privileged"></a>

    <code><a class="attribute-name" href="#schema.resource_type.privileged">privileged</a>: <span class="attribute-type"><a href="config-basics.html#schema.boolean"><strong>boolean</strong></a></span></code>
  </label>

  <div class="toggle-content attribute-content">
    <p><em>Default <code>false</code>.</em> If set to <code>true</code>, the resource&#39;s containers will be run with full capabilities, as determined by the worker backend the task runs on.</p><p>For Linux-based backends it typically determines whether or not the container will run in a separate user namespace, and whether the <code>root</code> user is &#34;actual&#34; <code>root</code> (if set to <code>true</code>) or a user namespaced <code>root</code> (if set to <code>false</code>, the default).</p><p>This is a gaping security hole; only configure it if the resource type needs it (which should be called out in its documentation). This is not up to the resource type to decide dynamically, so as to prevent privilege escalation via third-party resource type exploits.</p>
  </div>
</div><div class="toggleable schema-attribute optional">
  <input id="toggle-schema.resource_type.params" type="checkbox" class="toggle" />
  <label for="toggle-schema.resource_type.params" class="toggle-title">
    <a id="schema.resource_type.params"></a>

    <code><a class="attribute-name" href="#schema.resource_type.params">params</a>: <span class="attribute-type"><a href="config-basics.html#schema.config"><strong>config</strong></a></span></code>
  </label>

  <div class="toggle-content attribute-content">
    <p>Arbitrary config to pass when running the <code>get</code> to fetch the resource type&#39;s image.</p>
  </div>
</div><div class="toggleable schema-attribute optional">
  <input id="toggle-schema.resource_type.check_every" type="checkbox" class="toggle" />
  <label for="toggle-schema.resource_type.check_every" class="toggle-title">
    <a id="schema.resource_type.check_every"></a>

    <code><a class="attribute-name" href="#schema.resource_type.check_every">check_every</a>: <span class="attribute-type"><a href="config-basics.html#schema.duration"><strong>duration</strong></a></span></code>
  </label>

  <div class="toggle-content attribute-content">
    <p><em>Default <code>1m</code>.</em> The interval on which to check for new versions of the resource type. Acceptable interval options are defined by the <a href="https://golang.org/pkg/time/#ParseDuration">time.ParseDuration function</a>.</p>
  </div>
</div><div class="toggleable schema-attribute optional">
  <input id="toggle-schema.resource_type.tags" type="checkbox" class="toggle" />
  <label for="toggle-schema.resource_type.tags" class="toggle-title">
    <a id="schema.resource_type.tags"></a>

    <code><a class="attribute-name" href="#schema.resource_type.tags">tags</a>: <span class="attribute-type">[<a href="config-basics.html#schema.string"><strong>string</strong></a>]</span></code>
  </label>

  <div class="toggle-content attribute-content">
    <p><em>Default <code>[]</code>.</em> A list of tags to determine which workers the checks will be performed on. You&#39;ll want to specify this if the source is internal to a worker&#39;s network, for example. See also <a href="tags-step.html#schema.tags"><code class="schema-attribute-name"><bold>tags</bold></code></a>.</p>
  </div>
</div><div class="toggleable schema-attribute optional">
  <input id="toggle-schema.resource_type.defaults" type="checkbox" class="toggle" />
  <label for="toggle-schema.resource_type.defaults" class="toggle-title">
    <a id="schema.resource_type.defaults"></a>

    <code><a class="attribute-name" href="#schema.resource_type.defaults">defaults</a>: <span class="attribute-type"><a href="config-basics.html#schema.config"><strong>config</strong></a></span></code>
  </label>

  <div class="toggle-content attribute-content">
    <p>The default configuration for the resource type. This varies by resource type, and is a black box to Concourse; it is merged with (duplicate fields are overwritten by) <a href="resources.html#schema.resource.source"><code class="schema-attribute-name"><bold>resource<wbr />.source</bold></code></a> and passed to the resource at runtime.</p><div class="toggleable example">
  <input id="toggle-9c9fd20fb2a2d5cfc11e4a6986ab0d451124f1b6" type="checkbox" class="toggle" />
  <label for="toggle-9c9fd20fb2a2d5cfc11e4a6986ab0d451124f1b6" class="toggle-title">Setting default configuration for resources</label>
  <div class="toggle-content">
    <pre><code class="language-yaml">resource_types:
- name: gcs
  type: registry-image
  source:
    repository: frodenas/gcs-resource
  defaults:
    json_key: ((default_key))

resources:
- name: bucket-a
  type: gcs
  source:
    bucket: a

- name: bucket-b
  type: gcs
  source:
    bucket: b

- name: bucket-c
  type: gcs
  source:
    bucket: c
    json_key: ((different_key))</code></pre>
  </div>
</div><div class="toggleable example">
  <input id="toggle-ca4a908f000f2d82c73716c20c5d8f03383c2111" type="checkbox" class="toggle" />
  <label for="toggle-ca4a908f000f2d82c73716c20c5d8f03383c2111" class="toggle-title">Overriding default resource types</label>
  <div class="toggle-content">
    <p>Since it&#39;s possible to overwrite the base resource types, it can be used to give defaults to resources at the pipeline level.</p><pre><code class="language-yaml">resource_types:
- name: registry-image
  type: registry-image
  source:
    repository: concourse/registry-image-resource
  defaults:
    registry_mirror:
      host: https://registry.mirror.example.com

resources:
- name: mirrored-image
  type: registry-image
  source:
    repository: busybox</code></pre><p>Alternatively, the web node can be configured to use <a href="concourse-web.html#resource-defaults">defaults for base resource types</a></p>
  </div>
</div>
  </div>
</div>
</div><div class="toggleable example">
  <input id="toggle-70a30d14d470813edc5f94bc534c9bb679022e45" type="checkbox" class="toggle" />
  <label for="toggle-70a30d14d470813edc5f94bc534c9bb679022e45" class="toggle-title">Using a <code>rss</code> resource type to subscribe to RSS feeds</label>
  <div class="toggle-content">
    <p><a href="resource-types.html">Resource Types</a> can be used to extend the functionality of your pipeline and provide deeper integrations. This example uses one to trigger a job whenever a new <a href="http://www.qwantz.com">Dinosaur Comic</a> is out.</p><pre><code class="language-yaml">---
resource_types:
- name: rss
  type: registry-image
  source:
    repository: suhlig/concourse-rss-resource
    tag: latest

resources:
- name: booklit-releases
  type: rss
  source:
    url: http://www.qwantz.com/rssfeed.php

jobs:
- name: announce
  plan:
  - get: booklit-releases
    trigger: true</code></pre>
  </div>
</div><div class="table-of-contents">
  <span class="toc-header">Table of contents:</span>

  
  
  <ol class="toc">
  
    <li>
      <span class="section-number">1.9.1</span>
      <a href="implementing-resource-types.html">Implementing a Resource Type</a>

      
  
  <ol class="toc">
  
    <li>
      <span class="section-number">1.9.1.1</span>
      <a href="implementing-resource-types.html#resource-check"><code>check</code>: Check for new versions.</a>

      
  
  
    </li>
  
    <li>
      <span class="section-number">1.9.1.2</span>
      <a href="implementing-resource-types.html#resource-in"><code>in</code>: Fetch a given resource.</a>

      
  
  
    </li>
  
    <li>
      <span class="section-number">1.9.1.3</span>
      <a href="implementing-resource-types.html#resource-out"><code>out</code>: Update a resource.</a>

      
  
  
    </li>
  
    <li>
      <span class="section-number">1.9.1.4</span>
      <a href="implementing-resource-types.html#resource-metadata">Metadata</a>

      
  
  
    </li>
  
    <li>
      <span class="section-number">1.9.1.5</span>
      <a href="implementing-resource-types.html#resource-certs">Certificate Propagation</a>

      
  
  
    </li>
  
    <li>
      <span class="section-number">1.9.1.6</span>
      <a href="implementing-resource-types.html#test-resource-with-docker">Testing resources locally using docker</a>

      
  
  
    </li>
  
  </ol>
  
  
    </li>
  
    <li>
      <span class="section-number">1.9.2</span>
      <a href="managing-resource-types.html">Managing Resource Types</a>

      
  
  <ol class="toc">
  
    <li>
      <span class="section-number">1.9.2.1</span>
      <a href="managing-resource-types.html#fly-check-resource-type"><code>fly check-resource-type</code></a>

      
  
  
    </li>
  
  </ol>
  
  
    </li>
  
  </ol>
  
  
</div>

  
</div>

          <nav class="prev-next">
          
            <div class="prev">
              prev:

              
              <span class="section-number">1.8</span>
              

              <a href="resources.html">Resources</a>
            </div>
          

          
            <div class="next">
              next:

              
              <span class="section-number">1.9.1</span>
              

              <a href="implementing-resource-types.html">Implementing a Resource Type</a>
            </div>
          
          </nav>
        </div>

        <div class="page-aside"></div>
      </div>
    </div>

    <ul class="improve-docs">
      <li><img src="images/icons/github-box.svg" /> <a href="https://github.com/concourse/docs">help improve this site</a></li>
      <li><img src="images/booklit.svg" /> powered by <a href="https://vito.github.io/booklit">Booklit</a></li>
    </ul>
  </body>
</html>